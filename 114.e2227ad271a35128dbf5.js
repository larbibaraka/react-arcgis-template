(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/lazyLayerLoader":270,"esri/layers/support/arcgisLayers":2164})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{2164:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(35),r(31),r(32),r(44),r(36),r(116),r(270),r(6)],void 0===(a=function(e,n,t,a,u,i,c,o,l){function s(e){return u(this,void 0,void 0,function(){var n,r,t,u,i,l,s,d,v,b;return a(this,function(a){switch(a.label){case 0:if(!(n=o.parse(e)))throw new c("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});switch(r=n.serverType,t=n.sublayer,i={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"},r){case"MapServer":u=null!=t?"FeatureLayer":y(e).then(function(e){return e?"TileLayer":"MapImageLayer"});break;case"ImageServer":u=p(e).then(function(e){var n=e.tileInfo&&e.tileInfo.format;return e.tileInfo?n&&"LERC"===n.toUpperCase()&&e.cacheType&&"elevation"===e.cacheType.toLowerCase()?"ElevationLayer":"TileLayer":"ImageryLayer"});break;case"SceneServer":u=p(n.url.path).then(function(e){var n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){var r=e.layers[0].layerType;if(null!=n[r])return n[r]}return"SceneLayer"});break;default:u=i[r]}return l={FeatureLayer:!0,SceneLayer:!0},s={parsedUrl:n,Constructor:null,sublayerIds:null},[4,u];case 1:return d=a.sent(),l[d]&&null==t?[4,f(e)]:[3,3];case 2:1!==(v=a.sent()).length&&(s.sublayerIds=v),a.label=3;case 3:return b=s,[4,h(d)];case 4:return b.Constructor=a.sent(),[2,s]}})})}function f(e){return u(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return[4,p(e)];case 1:return(n=r.sent())&&Array.isArray(n.layers)?[2,n.layers.map(function(e){return e.id}).reverse()]:[2,[]]}})})}function h(e){return u(this,void 0,void 0,function(){return a(this,function(n){return[2,(0,l.layerLookupMap[e])()]})})}function y(e){return u(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,p(e)];case 1:return[2,n.sent().tileInfo]}})})}function p(e){return u(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,i(e,{responseType:"json",query:{f:"json"}})];case 1:return[2,n.sent().data]}})})}Object.defineProperty(n,"__esModule",{value:!0}),n.fromUrl=function(e){return u(this,void 0,void 0,function(){var n,u,i,c;return a(this,function(a){switch(a.label){case 0:return[4,s(e.url)];case 1:return n=a.sent(),u=t({},e.properties,{url:e.url}),n.sublayerIds?[4,new Promise(function(e,n){r.e(31).then(function(){var n=[r(111)];e.apply(null,n)}.bind(this)).catch(n.bind(this))})]:[2,new n.Constructor(u)];case 2:return i=a.sent(),c=new i({title:n.parsedUrl.title}),function(e,n){return e.sublayerIds.map(function(r){return new e.Constructor(t({},n,{layerId:r,sublayerTitleMode:"service-name"}))})}(n,u).forEach(function(e){return c.add(e)}),[2,c]}})})}}.apply(null,t))||(e.exports=a)},270:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(34)],void 0===(a=function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={CSVLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(25),r.e(86)]).then(function(){var n=[r(127)];e.apply(null,n)}.bind(this)).catch(r.oe)})},ElevationLayer:function(){return t.create(function(e){return Promise.all([r.e(11),r.e(32)]).then(function(){var n=[r(118)];e.apply(null,n)}.bind(this)).catch(r.oe)})},FeatureLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(55)]).then(function(){var n=[r(87)];e.apply(null,n)}.bind(this)).catch(r.oe)})},GroupLayer:function(){return t.create(function(e){return r.e(31).then(function(){var n=[r(111)];e.apply(null,n)}.bind(this)).catch(r.oe)})},GeoRSSLayer:function(){return t.create(function(e){return r.e(74).then(function(){var n=[r(120)];e.apply(null,n)}.bind(this)).catch(r.oe)})},ImageryLayer:function(){return t.create(function(e){return Promise.all([r.e(1),r.e(13),r.e(17),r.e(87)]).then(function(){var n=[r(128)];e.apply(null,n)}.bind(this)).catch(r.oe)})},KMLLayer:function(){return t.create(function(e){return Promise.all([r.e(29),r.e(88)]).then(function(){var n=[r(129)];e.apply(null,n)}.bind(this)).catch(r.oe)})},MapImageLayer:function(){return t.create(function(e){return Promise.all([r.e(4),r.e(56)]).then(function(){var n=[r(109)];e.apply(null,n)}.bind(this)).catch(r.oe)})},MapNotesLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(52)]).then(function(){var n=[r(471)];e.apply(null,n)}.bind(this)).catch(r.oe)})},OpenStreetMapLayer:function(){return t.create(function(e){return r.e(65).then(function(){var n=[r(121)];e.apply(null,n)}.bind(this)).catch(r.oe)})},PointCloudLayer:function(){return t.create(function(e){return Promise.all([r.e(19),r.e(89)]).then(function(){var n=[r(130)];e.apply(null,n)}.bind(this)).catch(r.oe)})},SceneLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(24),r.e(90)]).then(function(){var n=[r(131)];e.apply(null,n)}.bind(this)).catch(r.oe)})},BuildingSceneLayer:function(){return t.create(function(e){return Promise.all([r.e(21),r.e(91)]).then(function(){var n=[r(132)];e.apply(null,n)}.bind(this)).catch(r.oe)})},IntegratedMeshLayer:function(){return t.create(function(e){return r.e(64).then(function(){var n=[r(122)];e.apply(null,n)}.bind(this)).catch(r.oe)})},StreamLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(26),r.e(92)]).then(function(){var n=[r(133)];e.apply(null,n)}.bind(this)).catch(r.oe)})},TileLayer:function(){return t.create(function(e){return Promise.all([r.e(4),r.e(12),r.e(93)]).then(function(){var n=[r(62)];e.apply(null,n)}.bind(this)).catch(r.oe)})},UnknownLayer:function(){return t.create(function(e){return r.e(110).then(function(){var n=[r(473)];e.apply(null,n)}.bind(this)).catch(r.oe)})},UnsupportedLayer:function(){return t.create(function(e){return r.e(111).then(function(){var n=[r(474)];e.apply(null,n)}.bind(this)).catch(r.oe)})},VectorTileLayer:function(){return t.create(function(e){return Promise.all([r.e(22),r.e(94)]).then(function(){var n=[r(134)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WebTileLayer:function(){return t.create(function(e){return r.e(70).then(function(){var n=[r(95)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WMSLayer:function(){return t.create(function(e){return Promise.all([r.e(30),r.e(95)]).then(function(){var n=[r(135)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WMTSLayer:function(){return t.create(function(e){return r.e(54).then(function(){var n=[r(475)];e.apply(null,n)}.bind(this)).catch(r.oe)})},BingMapsLayer:function(){return t.create(function(e){return r.e(73).then(function(){var n=[r(51)];e.apply(null,n)}.bind(this)).catch(r.oe)})}}}.apply(null,t))||(e.exports=a)}}]);