(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/RouteTask":1936,"esri/tasks/support/RouteResultsContainer":1937,"esri/tasks/support/RouteResult":1938})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1936:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(28),t(29),t(35),t(44),t(34),t(448),t(124),t(30),t(104),t(140),t(449),t(1937)],void 0===(s=function(e,r,t,o,s,i,n,a,p,u,l,c,y,f){var d=a.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});return function(e){function r(r){return e.call(this,r)||this}return o(r,e),r.prototype.solve=function(e,r){var t=this,o=[],a=[],u={},c={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,"stops.features",u),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,"pointBarriers.features",u),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,"polylineBarriers.features",u),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,"polygonBarriers.features",u),l.normalizeCentralMeridian(a).then(function(e){for(var r in u){var s=u[r];o.push(r),c[r]=e.slice(s[0],s[1])}return t._isInputGeometryZAware(c,o)?t.getServiceDescription():n.resolve({dontCheck:!0})}).then(function(n){for(var a in("dontCheck"in n?n.dontCheck:n.hasZ)||t._dropZValuesOffInputGeometry(c,o),c)!function(r){c[r].forEach(function(t,o){e.get(r)[o].geometry=t})}(a);var u={query:s({},t.parsedUrl.query,{f:"json"},d.toQueryParams(e))};(t.requestOptions||r)&&(u=s({},t.requestOptions,r,u));var l=t.parsedUrl.path,y=p.endsWith(l,"/solve")?l:l+"/solve";return i(y,u)}).then(function(e){return t._handleSolveResponse(e)})},r.prototype._collectGeometries=function(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach(function(e){r.push(e.geometry)})},r.prototype._handleSolveResponse=function(e){var r,t,o=[],s=[],i=e.data,n=i.directions,a=void 0===n?[]:n,p=i.routes,u=void 0===p?{}:p,l=u.features,c=void 0===l?[]:l,y=u.spatialReference,d=void 0===y?null:y,m=i.stops,v=void 0===m?{}:m,h=v.features,B=void 0===h?[]:h,g=v.spatialReference,R=void 0===g?null:g,b=i.barriers,k=i.polygonBarriers,N=i.polylineBarriers,w=i.messages,S="esri.tasks.RouteTask.NULL_ROUTE_NAME",A=!0,O=c&&d||B&&R||b&&b.spatialReference||k&&k.spatialReference||N&&N.spatialReference;a.forEach(function(e){o.push(r=e.routeName),s[r]={directions:e}}),c.forEach(function(e){-1===o.indexOf(r=e.attributes.Name)&&(o.push(r),s[r]={}),e.geometry&&(e.geometry.spatialReference=O),s[r].route=e}),B.forEach(function(e){t=e.attributes,-1===o.indexOf(r=t.RouteName||S)&&(o.push(r),s[r]={}),r!==S&&(A=!1),e.geometry&&(e.geometry.spatialReference=O),null==s[r].stops&&(s[r].stops=[]),s[r].stops.push(e)}),B.length>0&&!0===A&&(s[o[0]].stops=s[S].stops,delete s[S],o.splice(o.indexOf(S),1));var _=o.map(function(e){return s[e].routeName=e===S?null:e,s[e]});return f.fromJSON({routeResults:_,pointBarriers:b,polygonBarriers:k,polylineBarriers:N,messages:w})},t([u.subclass("esri.tasks.RouteTask")],r)}(u.declared(y.NAServiceDescriptionMixin(c)))}.apply(null,o))||(e.exports=s)},1937:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(29),t(28),t(77),t(33),t(30),t(481),t(100),t(450),t(1938)],void 0===(s=function(e,r,t,o,s,i,n,a,p,u,l){function c(e){return e&&p.fromJSON(e).features.map(function(e){return e})}return function(e){function r(r){var t=e.call(this,r)||this;return t.barriers=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.routeResults=null,t}return t(r,e),r.prototype.readPointBarriers=function(e,r){return c(r.barriers||r.pointBarriers)},r.prototype.readPolylineBarriers=function(e){return c(e)},r.prototype.readPolygonBarriers=function(e){return c(e)},o([n.property({aliasOf:"pointBarriers"})],r.prototype,"barriers",void 0),o([n.property({type:[u]})],r.prototype,"messages",void 0),o([n.property({type:[s]})],r.prototype,"pointBarriers",void 0),o([a.reader("pointBarriers",["barriers","pointBarriers"])],r.prototype,"readPointBarriers",null),o([n.property({type:[s]})],r.prototype,"polylineBarriers",void 0),o([a.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),o([n.property({type:[s]})],r.prototype,"polygonBarriers",void 0),o([a.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),o([n.property({type:[l]})],r.prototype,"routeResults",void 0),o([n.subclass("esri.tasks.support.RouteResultsContainer")],r)}(n.declared(i.JSONSupport))}.apply(null,o))||(e.exports=s)},1938:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(28),t(29),t(77),t(33),t(30),t(799)],void 0===(s=function(e,r,t,o,s,i,n,a){return function(e){function r(r){var t=e.call(this,r)||this;return t.directions=null,t.route=null,t.routeName=null,t.stops=null,t}return o(r,e),t([n.property({type:a,json:{write:!0}})],r.prototype,"directions",void 0),t([n.property({type:s,json:{write:!0}})],r.prototype,"route",void 0),t([n.property({type:String,json:{write:!0}})],r.prototype,"routeName",void 0),t([n.property({type:[s],json:{write:!0}})],r.prototype,"stops",void 0),t([n.subclass("esri.tasks.support.RouteResult")],r)}(n.declared(i.JSONSupport))}.apply(null,o))||(e.exports=s)}}]);