(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/Field":78,"esri/geometry/support/normalizeUtils":104,"esri/tasks/operations/urlUtils":117,"esri/tasks/geometry/cut":142,"esri/tasks/geometry/simplify":143,"esri/core/requireUtils":164,"esri/tasks/operations/query":171})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[80,107],{104:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(31),r(32),r(7),r(36),r(37),r(40),r(34),r(114),r(115),r(50),r(63),r(90),r(142),r(143)],void 0===(i=function(e,t,r,n,i,o,a,u,s,l,p,c,f,y,d,h){function g(e){return"polygon"===e.type}function m(e){return"polygon"===e[0].type}function v(e){return"polyline"===e[0].type}function x(e){return g(e)?e.rings:e.paths}function b(e,t){return Math.ceil((e-t)/(2*t))}function w(e,t){for(var r=0,n=x(e);r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++){o[i][0]+=t}return e}function O(e){for(var t=[],r=0,n=0,i=0;i<e.length;i++){for(var o=e[i],a=null,u=0;u<o.length;u++)a=o[u],t.push(a),0===u?n=r=a[0]:(r=Math.min(r,a[0]),n=Math.max(n,a[0]));a&&t.push([(r+n)/2,0])}return t}function S(e,t){if(!(e instanceof p||e instanceof l)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw F.error(r),new o(r)}for(var n=[],i=0,a=x(e);i<a.length;i++){var u=a[i],s=[];n.push(s),s.push([u[0][0],u[0][1]]);for(var c=0;c<u.length-1;c++){var f=u[c][0],y=u[c][1],d=u[c+1][0],h=u[c+1][1],m=Math.sqrt((d-f)*(d-f)+(h-y)*(h-y)),v=(h-y)/m,b=(d-f)/m,w=m/t;if(w>1){for(var O=1;O<=w-1;O++){var S=O*t,j=b*S+f,J=v*S+y;s.push([j,J])}var N=(m+Math.floor(w-1)*t)/2,M=b*N+f,T=v*N+y;s.push([M,T])}s.push([d,h])}}return g(e)?new l({rings:n,spatialReference:e.spatialReference}):new p({paths:n,spatialReference:e.spatialReference})}function j(e,t,r){if(t){var n=S(e,1e6);e=y.webMercatorToGeographic(n,!0)}return r&&(e=w(e,r)),e}function J(e,t,r){var n;if(Array.isArray(e)){if((n=e[0])>t){var i=b(n,t);e[0]=n+i*(-2*t)}else if(n<r){i=b(n,r);e[0]=n+i*(-2*r)}}else if((n=e.x)>t){i=b(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){i=b(n,r);e=e.clone().offset(i*(-2*r),0)}return e}function N(e,t){for(var r=-1,n=0;n<t.cutIndexes.length;n++)!function(n){for(var i=t.cutIndexes[n],o=t.geometries[n],a=x(o),u=0;u<a.length;u++)!function(e){var t=a[e];t.some(function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var a=t[i][0];n=a>n?a:n}for(var u=-360*b(n=Number(n.toFixed(9)),180),s=0;s<t.length;s++){var l=o.getPoint(e,s);o.setPoint(e,s,l.clone().offset(u,0))}return!0})}(u);if(i===r){if(m(e))for(var s=0,l=x(o);s<l.length;s++){var p=l[s];e[i]=e[i].addRing(p)}else if(v(e))for(var c=0,f=x(o);c<f.length;c++){var y=f[c];e[i]=e[i].addPath(y)}}else r=i,e[i]=o}(n);return e}Object.defineProperty(t,"__esModule",{value:!0});var F=a.getLogger("esri.geometry.support.normalizeUtils"),M={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:c.WebMercator}),minus180Line:new p({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new p({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};t.straightLineDensify=S,t.normalizeCentralMeridian=function e(t,o,a){return n(this,void 0,void 0,function(){var n,c,g,m,v,x,O,S,F,T,R,P,k,q,I,z,A,_,B,L,W,C,E,U,Q,G,V,X,D,$,H,K,Y,Z,ee,te,re;return r(this,function(r){switch(r.label){case 0:if(!Array.isArray(t))return[2,e([t],o)];for(n=o?o.url:i.geometryServiceUrl,T=0,R=[],P=[],k=0,q=t;k<q.length;k++)I=q[k],u.isNone(I)?P.push(I):(c||(c=I.spatialReference,g=f.getInfo(c),m=c.isWebMercator,v=M[O=m?102100:4326].maxX,x=M[O].minX,S=M[O].plus180Line,F=M[O].minus180Line),g?"mesh"===I.type?P.push(I):"point"===I.type?P.push(J(I.clone(),v,x)):"multipoint"===I.type?((z=I.clone()).points=z.points.map(function(e){return J(e,v,x)}),P.push(z)):"extent"===I.type?(_=I.clone(),A=_._normalize(!1,!1,g),P.push(A.rings?new l(A):A)):I.extent?(_=I.extent,B=b(_.xmin,x),W=0==(L=B*(2*v))?I.clone():w(I.clone(),L),_.offset(L,0),_.intersects(S)&&_.xmax!==v?(T=_.xmax>T?_.xmax:T,W=j(W,m),R.push(W),P.push("cut")):_.intersects(F)&&_.xmin!==x?(T=_.xmax*(2*v)>T?_.xmax*(2*v):T,W=j(W,m,360),R.push(W),P.push("cut")):P.push(W)):P.push(I.clone()):P.push(I));for(C=b(T,v),E=-90,U=C,Q=new p;C>0;)G=360*C-180,Q.addPath([[G,E],[G,-1*E]]),E*=-1,C--;return R.length>0&&U>0?[4,d.cut(n,R,Q,a)]:[3,3];case 1:for(V=r.sent(),X=N(R,V),D=[],$=[],ee=0;ee<P.length;ee++)"cut"!==(te=P[ee])?$.push(te):(re=X.shift(),H=t[ee],u.isSome(H)&&"polygon"===H.type&&H.rings&&H.rings.length>1&&re.rings.length>=H.rings.length?(D.push(re),$.push("simplify")):$.push(m?y.geographicToWebMercator(re):re));return D.length?[4,h.simplify(n,D,a)]:[2,$];case 2:for(K=r.sent(),Y=[],ee=0;ee<$.length;ee++)"simplify"!==(te=$[ee])?Y.push(te):Y.push(m?y.geographicToWebMercator(K.shift()):K.shift());return[2,Y];case 3:for(Z=[],ee=0;ee<P.length;ee++)"cut"!==(te=P[ee])?Z.push(te):(re=R.shift(),Z.push(!0===m?y.geographicToWebMercator(re):re));return[2,s.resolve(Z)]}})})},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&f.getInfo(e.spatialReference);if(!n)return r;var i,o=n.valid,a=o[0],u=o[1],s=2*u,l=r.width,p=r.xmin,c=r.xmax;if(p=(t=[c,p])[0],c=t[1],"extent"===e.type||0===l||l<=u||l>s||p<a||c>u)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;i=O(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;i=O(e.paths);break;case"multipoint":i=e.points}for(var y=r.clone(),d=0;d<i.length;d++){var h=i[d][0];h<0?(h+=u,c=Math.max(h,c)):(h-=u,p=Math.min(h,p))}return y.xmin=p,y.xmax=c,y.width<l?(y.xmin-=u,y.xmax-=u,y):r},t.normalizeMapX=function(e,t){var r=f.getInfo(t);if(r){var n=r.valid,i=n[0],o=n[1],a=o-i;if(e<i)for(;e<i;)e+=a;if(e>o)for(;e>o;)e-=a}return e}}.apply(null,n))||(e.exports=i)},117:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapParameters=function e(t){var r={};for(var n in t)if("declaredClass"!==n){var i=t[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){r[n]=[];for(var o=0;o<i.length;o++)r[n][o]=e(i[o])}else"object"==typeof i?i.toJSON&&(r[n]=JSON.stringify(i)):r[n]=i}return r}}.apply(null,n))||(e.exports=i)},142:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(35),r(32),r(31),r(42),r(44),r(39),r(46)],void 0===(i=function(e,t,r,n,i,o,a,u,s){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,l,p){return n(this,void 0,void 0,function(){var n,c,f,y,d,h,g;return i(this,function(i){switch(i.label){case 0:return n="string"==typeof e?u.urlToObject(e):e,c=t[0].spatialReference,f=r({},p,{query:r({},n.query,{f:"json",sr:JSON.stringify(c),target:JSON.stringify({geometryType:s.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(l)})}),[4,a(n.path+"/cut",f)];case 1:return y=i.sent(),d=y.data,h=d.cutIndexes,g=d.geometries,[2,{cutIndexes:h,geometries:(void 0===g?[]:g).map(function(e){return o.fromJSON(e).set(c)})}]}})})}}.apply(null,n))||(e.exports=i)},143:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(35),r(32),r(31),r(44),r(39),r(46)],void 0===(i=function(e,t,r,n,i,o,a,u){function s(e){return{geometryType:u.getJsonType(e[0]),geometries:e.map(function(e){return e.toJSON()})}}function l(e,t,r){var n=u.getGeometryType(t);return e.map(function(e){var t=n.fromJSON(e);return t.spatialReference=r,t})}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,p){return n(this,void 0,void 0,function(){var n,c,f,y;return i(this,function(i){switch(i.label){case 0:return n="string"==typeof e?a.urlToObject(e):e,c=t[0].spatialReference,f=u.getJsonType(t[0]),y=r({},p,{query:r({},n.query,{f:"json",sr:c.wkid?c.wkid:JSON.stringify(c),geometries:JSON.stringify(s(t))})}),[4,o(n.path+"/simplify",y)];case 1:return[2,l(i.sent().data,f,c)]}})})}}.apply(null,n))||(e.exports=i)},164:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(187),r(37),r(34)],void 0===(i=function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var o=n.getLogger("esri.core.requireUtils");t.when=function e(t,n){return r.deprecatedFunction(o,"when",{moduleName:"requireUtils",replacement:"Use `promiseUtils.create()` instead.",version:"4.10",warnOnce:!0}),Array.isArray(n)?i.create(function(e){t(n,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e(t)})}):e(t,[n]).then(function(e){return e[0]})},t.getAbsMid=function(e,t,r){return t.toAbsMid?t.toAbsMid(e):r.id.replace(/\/[^\/]*$/gi,"/")+e}}.apply(null,n))||(e.exports=i)},171:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(35),r(44),r(40),r(39),r(46),r(104),r(228),r(227),r(117),r(6)],void 0===(i=function(e,t,r,n,i,o,a,u,s,l,p){function c(e,t){var r=e.geometry,n=e.toJSON(),i=n;if(r&&(i.geometry=JSON.stringify(r),i.geometryType=a.getJsonType(r),i.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),n.groupByFieldsForStatistics&&(i.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(i.objectIds=n.objectIds.join(",")),n.orderByFields&&(i.orderByFields=n.orderByFields.join(",")),!n.outFields||t&&(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)?delete i.outFields:-1!==n.outFields.indexOf("*")?i.outFields="*":i.outFields=n.outFields.join(","),n.outSR?i.outSR=n.outSR.wkid||JSON.stringify(n.outSR):r&&(n.returnGeometry||n.returnCentroid)&&(i.outSR=i.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(i.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(i.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(i.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.source&&(i.layer=JSON.stringify({source:n.source}),delete n.source),n.timeExtent){var o=n.timeExtent,u=o.start,s=o.end;null==u&&null==s||(i.time=u===s?u:(null==u?"null":u)+","+(null==s?"null":s)),delete n.timeExtent}return i}function f(e,t,a,s,l){void 0===s&&(s={});var f="string"==typeof e?o.urlToObject(e):e,y=t.geometry?[t.geometry]:[];return s.responseType="pbf"===a?"array-buffer":"json",u.normalizeCentralMeridian(y,null,s).then(function(e){var o=e&&e[0];i.isSome(o)&&((t=t.clone()).geometry=o);var u=p.mapParameters(r({},f.query,{f:a},l,c(t,l)));return n(f.path+"/query",r({},s,{query:u}))})}Object.defineProperty(t,"__esModule",{value:!0});var y,d="Layer does not support extent calculation.";t.queryToQueryStringParameters=c,t.executeQuery=function(e,t,r){return f(e,t,"json",r)},t.executeQueryPBF=function(e,t,r,n){var i=r.useWorker?(null==y&&(y=new l.PBFWorker),y):null;return f(e,t,"pbf",n).then(function(e){var t=function(t){var r=e;return r.data=t,r};return r.useWorker?i.parseFeatureQuery(e.data,r).then(function(e){return t(e)}):t(s.parsePBFFeatureQuery(e.data,r))})},t.executeQueryForIds=function(e,t,r){return f(e,t,"json",r,{returnIdsOnly:!0})},t.executeQueryForCount=function(e,t,r){return f(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})},t.executeQueryForExtent=function(e,t,r){return f(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(d);if(t.hasOwnProperty("count"))throw new Error(d);return e})}}.apply(null,n))||(e.exports=i)},78:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(29),r(28),r(41),r(33),r(30),r(48),r(169),r(170)],void 0===(i=function(e,t,r,n,i,o,a,u,s,l){var p=new i.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(e){function t(t){var r=e.call(this,t)||this;return r.alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r}var i;return r(t,e),i=t,t.prototype.readDescription=function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?r.value:null},t.prototype.readValueType=function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?p.fromJSON(r.fieldValueType):null},t.prototype.clone=function(){return new i({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})},n([a.property({type:String,json:{write:!0}})],t.prototype,"alias",void 0),n([a.property({type:[String,Number],json:{write:{allowNull:!0}}})],t.prototype,"defaultValue",void 0),n([a.property()],t.prototype,"description",void 0),n([a.reader("description")],t.prototype,"readDescription",null),n([a.property({types:s.types,json:{read:{reader:s.fromJSON},write:!0}})],t.prototype,"domain",void 0),n([a.property({type:Boolean,json:{write:!0}})],t.prototype,"editable",void 0),n([a.property({type:u.Integer,json:{write:!0}})],t.prototype,"length",void 0),n([a.property({type:String,json:{write:!0}})],t.prototype,"name",void 0),n([a.property({type:Boolean,json:{write:!0}})],t.prototype,"nullable",void 0),n([a.enumeration.serializable()(l.kebabDict)],t.prototype,"type",void 0),n([a.property()],t.prototype,"valueType",void 0),n([a.reader("valueType",["description"])],t.prototype,"readValueType",null),i=n([a.subclass("esri.layers.support.Field")],t)}(a.declared(o.JSONSupport))}.apply(null,n))||(e.exports=i)}}]);