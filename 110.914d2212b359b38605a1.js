(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/mixins/PortalLayer":59,"esri/layers/UnknownLayer":473})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{473:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(29),r(28),r(36),r(99),r(34),r(146),r(30),r(108),r(59)],void 0===(n=function(e,t,r,o,n,i,a,s,l,p,u){return function(e){function t(t){var r=e.call(this,t)||this;return r.resourceInfo=null,r.type="unknown",r}return r(t,e),t.prototype.initialize=function(){var e=this;this.addResolvingPromise(a.create(function(t,r){s.schedule(function(){var t=e.resourceInfo&&(e.resourceInfo.layerType||e.resourceInfo.type),o="Unknown layer type";t&&(o+=" "+t),r(new n("layer:unknown-layer-type",o,{layerType:t}))})}))},t.prototype.read=function(e,t){this.inherited(arguments,[{resourceInfo:e},t])},t.prototype.write=function(){return null},o([l.property({readOnly:!0})],t.prototype,"resourceInfo",void 0),o([l.property({type:["show","hide"]})],t.prototype,"listMode",void 0),o([l.property({json:{read:!1},readOnly:!0,value:"unknown"})],t.prototype,"type",void 0),o([l.subclass("esri.layers.UnknownLayer")],t)}(l.declared(u.PortalLayer(i.MultiOriginJSONMixin(p))))}.apply(null,o))||(e.exports=n)},59:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(29),r(28),r(31),r(32),r(36),r(37),r(34),r(39),r(30),r(72),r(76)],void 0===(n=function(e,t,o,n,i,a,s,l,p,u,c,d,y){Object.defineProperty(t,"__esModule",{value:!0});var h=l.getLogger("esri.layers.mixins.PortalLayer");t.PortalLayer=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"portalItem",{set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))},enumerable:!0,configurable:!0}),t.prototype.readPortalItem=function(e,t,r){if(t.itemId)return new y({id:t.itemId,portal:r&&r.portal})},t.prototype.writePortalItem=function(e,t){e&&e.id&&(t.itemId=e.id)},t.prototype.loadFromPortal=function(e,t){return a(this,void 0,void 0,function(){var o,n;return i(this,function(i){switch(i.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,p.create(function(e){return r.e(99).then(function(){var t=[r(123)];e.apply(null,t)}.bind(this)).catch(r.oe)})];case 2:return o=i.sent(),p.throwIfAborted(t),[4,o.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)];case 3:return[2,i.sent()];case 4:throw n=i.sent(),h.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+n),n;case 5:return[2]}})})},t.prototype.read=function(e,t){var r=arguments;t&&(t.layer=this),this.inherited(r)},t.prototype.write=function(e,t){var r=t&&t.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||d.getDefault());return r&&o&&!u.hasSamePortal(o.restUrl,r.restUrl)?(t.messages&&t.messages.push(new s("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):this.inherited(arguments)},n([c.property({type:y})],t.prototype,"portalItem",null),n([c.reader("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),n([c.writer("portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),n([c.subclass("esri.layers.mixins.PortalLayer")],t)}(c.declared(e))}}.apply(null,o))||(e.exports=n)}}]);