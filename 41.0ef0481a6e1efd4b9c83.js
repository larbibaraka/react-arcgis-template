(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/support/Query":74,"esri/layers/support/Field":78,"esri/tasks/support/QuantizationParameters":85,"esri/tasks/support/StatisticDefinition":93,"esri/tasks/support/FeatureSet":100,"esri/geometry/support/normalizeUtils":104,"esri/tasks/operations/urlUtils":117,"esri/tasks/Task":140,"esri/tasks/geometry/cut":142,"esri/tasks/geometry/simplify":143,"esri/core/requireUtils":164,"esri/tasks/operations/query":171,"esri/tasks/operations/queryAttachments":198,"esri/tasks/QueryTask":211,"esri/tasks/operations/queryRelatedRecords":212,"esri/tasks/support/AttachmentQuery":213,"esri/tasks/support/RelationshipQuery":214,"esri/core/throttle":547,"esri/widgets/Feature/support/featureUtils":798,"esri/widgets/Feature":1831,"dojo/i18n!esri/widgets/Feature/nls/Feature":1832,"esri/widgets/Feature/nls/ar/Feature":1833,"esri/widgets/Feature/nls/bs/Feature":1834,"esri/widgets/Feature/nls/ca/Feature":1835,"esri/widgets/Feature/nls/cs/Feature":1836,"esri/widgets/Feature/nls/da/Feature":1837,"esri/widgets/Feature/nls/de/Feature":1838,"esri/widgets/Feature/nls/el/Feature":1839,"esri/widgets/Feature/nls/es/Feature":1840,"esri/widgets/Feature/nls/et/Feature":1841,"esri/widgets/Feature/nls/fi/Feature":1842,"esri/widgets/Feature/nls/fr/Feature":1843,"esri/widgets/Feature/nls/hr/Feature":1844,"esri/widgets/Feature/nls/hu/Feature":1845,"esri/widgets/Feature/nls/he/Feature":1846,"esri/widgets/Feature/nls/id/Feature":1847,"esri/widgets/Feature/nls/it/Feature":1848,"esri/widgets/Feature/nls/ja/Feature":1849,"esri/widgets/Feature/nls/ko/Feature":1850,"esri/widgets/Feature/nls/lv/Feature":1851,"esri/widgets/Feature/nls/lt/Feature":1852,"esri/widgets/Feature/nls/nl/Feature":1853,"esri/widgets/Feature/nls/nb/Feature":1854,"esri/widgets/Feature/nls/pl/Feature":1855,"esri/widgets/Feature/nls/pt-br/Feature":1856,"esri/widgets/Feature/nls/pt-pt/Feature":1857,"esri/widgets/Feature/nls/ro/Feature":1858,"esri/widgets/Feature/nls/ru/Feature":1859,"esri/widgets/Feature/nls/sl/Feature":1860,"esri/widgets/Feature/nls/sr/Feature":1861,"esri/widgets/Feature/nls/sv/Feature":1862,"esri/widgets/Feature/nls/th/Feature":1863,"esri/widgets/Feature/nls/tr/Feature":1864,"esri/widgets/Feature/nls/uk/Feature":1865,"esri/widgets/Feature/nls/vi/Feature":1866,"esri/widgets/Feature/nls/zh-cn/Feature":1867,"esri/widgets/Feature/nls/zh-hk/Feature":1868,"esri/widgets/Feature/nls/zh-tw/Feature":1869,"esri/widgets/Feature/nls/Feature":1870,"esri/widgets/Feature/FeatureViewModel":1871,"esri/widgets/Feature/support/RelatedFeatures":1872,"esri/widgets/Feature/support/attachmentUtils":1873,"esri/widgets/support/chartUtils":1874,"esri/widgets/support/uriUtils":1875,"dojo/i18n!esri/widgets/support/nls/uriUtils":1876,"esri/widgets/support/nls/ar/uriUtils":1877,"esri/widgets/support/nls/bs/uriUtils":1878,"esri/widgets/support/nls/ca/uriUtils":1879,"esri/widgets/support/nls/cs/uriUtils":1880,"esri/widgets/support/nls/da/uriUtils":1881,"esri/widgets/support/nls/de/uriUtils":1882,"esri/widgets/support/nls/el/uriUtils":1883,"esri/widgets/support/nls/es/uriUtils":1884,"esri/widgets/support/nls/et/uriUtils":1885,"esri/widgets/support/nls/fi/uriUtils":1886,"esri/widgets/support/nls/fr/uriUtils":1887,"esri/widgets/support/nls/he/uriUtils":1888,"esri/widgets/support/nls/hr/uriUtils":1889,"esri/widgets/support/nls/hu/uriUtils":1890,"esri/widgets/support/nls/id/uriUtils":1891,"esri/widgets/support/nls/it/uriUtils":1892,"esri/widgets/support/nls/ja/uriUtils":1893,"esri/widgets/support/nls/ko/uriUtils":1894,"esri/widgets/support/nls/lv/uriUtils":1895,"esri/widgets/support/nls/lt/uriUtils":1896,"esri/widgets/support/nls/nl/uriUtils":1897,"esri/widgets/support/nls/nb/uriUtils":1898,"esri/widgets/support/nls/pl/uriUtils":1899,"esri/widgets/support/nls/pt-br/uriUtils":1900,"esri/widgets/support/nls/pt-pt/uriUtils":1901,"esri/widgets/support/nls/ro/uriUtils":1902,"esri/widgets/support/nls/ru/uriUtils":1903,"esri/widgets/support/nls/sl/uriUtils":1904,"esri/widgets/support/nls/sr/uriUtils":1905,"esri/widgets/support/nls/sv/uriUtils":1906,"esri/widgets/support/nls/th/uriUtils":1907,"esri/widgets/support/nls/tr/uriUtils":1908,"esri/widgets/support/nls/uk/uriUtils":1909,"esri/widgets/support/nls/vi/uriUtils":1910,"esri/widgets/support/nls/zh-cn/uriUtils":1911,"esri/widgets/support/nls/zh-hk/uriUtils":1912,"esri/widgets/support/nls/zh-tw/uriUtils":1913,"esri/widgets/support/nls/uriUtils":1914})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[41,80,107,113],{100:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(28),r(29),r(42),r(77),r(41),r(33),r(40),r(30),r(50),r(46),r(78)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c){var f=new o.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"}),y=function(e){function t(t){var r=e.call(this,t)||this;return r.displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return i(t,e),t.prototype.readFeatures=function(e,t){for(var r=p.fromJSON(t.spatialReference),i=[],a=0;a<e.length;a++){var o=e[a],s=n.fromJSON(o),u=o.geometry&&o.geometry.spatialReference;l.isSome(s.geometry)&&!u&&(s.geometry.spatialReference=r),i.push(s)}return i},t.prototype.writeGeometryType=function(e,t,r,i){if(e)f.write(e,t,r,i);else{var a=this.features;if(a)for(var n=0,o=a;n<o.length;n++){var s=o[n];if(s&&l.isSome(s.geometry))return void f.write(s.geometry.type,t,r,i)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r)for(var i=0,a=r;i<a.length;i++){var n=a[i];n&&l.isSome(n.geometry)&&n.geometry.spatialReference&&(t.spatialReference=n.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var i=t.features[r];if(i.geometry){var a=e&&e[r];i.geometry=a&&a.toJSON()||i.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,r=t[0],i=t[1],a=e.translate,n=a[0],o=a[1],s=this.features,u=this._getQuantizationFunction(this.geometryType,function(e){return Math.round((e-n)/r)},function(e){return Math.round((o-e)/i)}),p=0,d=s.length;p<d;p++)u(l.expect(s[p].geometry))||(s.splice(p,1),p--,d--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this,t=e.geometryType,r=e.features,i=e.transform;if(!i)return this;for(var a=i.translate,n=a[0],o=a[1],s=i.scale,u=s[0],p=s[1],d=this._getHydrationFunction(t,function(e){return e*u+n},function(e){return o-e*p}),c=0,f=r;c<f.length;c++){var y=f[c].geometry;l.isSome(y)&&d(y)}return this},t.prototype._quantizePoints=function(e,t,r){for(var i,a,n=[],o=0,s=e.length;o<s;o++){var l=e[o];if(o>0){var u=t(l[0]),p=r(l[1]);u===i&&p===a||(n.push([u-i,p-a]),i=u,a=p)}else i=t(l[0]),a=r(l[1]),n.push([i,a])}return n.length>0?n:null},t.prototype._getQuantizationFunction=function(e,t,r){var i=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var a=d.isPolygon(e)?e.rings:e.paths,n=[],o=0,s=a.length;o<s;o++){var l=a[o],u=i._quantizePoints(l,t,r);u&&n.push(u)}return n.length>0?(d.isPolygon(e)?e.rings=n:e.paths=n,e):null}:"multipoint"===e?function(e){var a;return(a=i._quantizePoints(e.points,t,r)).length>0?(e.points=a,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var i,a,n=d.isPolygon(e)?e.rings:e.paths,o=0,s=n.length;o<s;o++)for(var l=n[o],u=0,p=l.length;u<p;u++){var c=l[u];u>0?(i+=c[0],a+=c[1]):(i=c[0],a=c[1]),c[0]=t(i),c[1]=r(a)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var i,a,n=e.points,o=0,s=n.length;o<s;o++){var l=n[o];o>0?(i+=l[0],a+=l[1]):(i=l[0],a=l[1]),l[0]=t(i),l[1]=r(a)}}:void 0},r([u.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),r([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),r([u.property({type:[n],json:{write:!0}})],t.prototype,"features",void 0),r([u.reader("features")],t.prototype,"readFeatures",null),r([u.property({type:[c],json:{write:!0}})],t.prototype,"fields",void 0),r([u.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:f.read}}})],t.prototype,"geometryType",void 0),r([u.writer("geometryType")],t.prototype,"writeGeometryType",null),r([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),r([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),r([u.property({types:a.geometryTypes,json:{read:d.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),r([u.property({type:p,json:{write:!0}})],t.prototype,"spatialReference",void 0),r([u.writer("spatialReference")],t.prototype,"writeSpatialReference",null),r([u.property({json:{write:!0}})],t.prototype,"transform",void 0),r([u.subclass("esri.tasks.support.FeatureSet")],t)}(u.declared(s.JSONSupport));return y.prototype.toJSON.isDefaultToJSON=!0,y||(y={}),y}.apply(null,i))||(e.exports=a)},104:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(31),r(32),r(7),r(36),r(37),r(40),r(34),r(114),r(115),r(50),r(63),r(90),r(142),r(143)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c,f,y,m){function h(e){return"polygon"===e.type}function v(e){return"polygon"===e[0].type}function g(e){return"polyline"===e[0].type}function b(e){return h(e)?e.rings:e.paths}function w(e,t){return Math.ceil((e-t)/(2*t))}function _(e,t){for(var r=0,i=b(e);r<i.length;r++)for(var a=0,n=i[r];a<n.length;a++){n[a][0]+=t}return e}function x(e){for(var t=[],r=0,i=0,a=0;a<e.length;a++){for(var n=e[a],o=null,s=0;s<n.length;s++)o=n[s],t.push(o),0===s?i=r=o[0]:(r=Math.min(r,o[0]),i=Math.max(i,o[0]));o&&t.push([(r+i)/2,0])}return t}function F(e,t){if(!(e instanceof p||e instanceof u)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw T.error(r),new n(r)}for(var i=[],a=0,o=b(e);a<o.length;a++){var s=o[a],l=[];i.push(l),l.push([s[0][0],s[0][1]]);for(var d=0;d<s.length-1;d++){var c=s[d][0],f=s[d][1],y=s[d+1][0],m=s[d+1][1],v=Math.sqrt((y-c)*(y-c)+(m-f)*(m-f)),g=(m-f)/v,w=(y-c)/v,_=v/t;if(_>1){for(var x=1;x<=_-1;x++){var F=x*t,I=w*F+c,S=g*F+f;l.push([I,S])}var j=(v+Math.floor(_-1)*t)/2,C=w*j+c,A=g*j+f;l.push([C,A])}l.push([y,m])}}return h(e)?new u({rings:i,spatialReference:e.spatialReference}):new p({paths:i,spatialReference:e.spatialReference})}function I(e,t,r){if(t){var i=F(e,1e6);e=f.webMercatorToGeographic(i,!0)}return r&&(e=_(e,r)),e}function S(e,t,r){var i;if(Array.isArray(e)){if((i=e[0])>t){var a=w(i,t);e[0]=i+a*(-2*t)}else if(i<r){a=w(i,r);e[0]=i+a*(-2*r)}}else if((i=e.x)>t){a=w(i,t);e=e.clone().offset(a*(-2*t),0)}else if(i<r){a=w(i,r);e=e.clone().offset(a*(-2*r),0)}return e}function j(e,t){for(var r=-1,i=0;i<t.cutIndexes.length;i++)!function(i){for(var a=t.cutIndexes[i],n=t.geometries[i],o=b(n),s=0;s<o.length;s++)!function(e){var t=o[e];t.some(function(r){if(r[0]<180)return!0;for(var i=0,a=0;a<t.length;a++){var o=t[a][0];i=o>i?o:i}for(var s=-360*w(i=Number(i.toFixed(9)),180),l=0;l<t.length;l++){var u=n.getPoint(e,l);n.setPoint(e,l,u.clone().offset(s,0))}return!0})}(s);if(a===r){if(v(e))for(var l=0,u=b(n);l<u.length;l++){var p=u[l];e[a]=e[a].addRing(p)}else if(g(e))for(var d=0,c=b(n);d<c.length;d++){var f=c[d];e[a]=e[a].addPath(f)}}else r=a,e[a]=n}(i);return e}Object.defineProperty(t,"__esModule",{value:!0});var T=o.getLogger("esri.geometry.support.normalizeUtils"),C={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:d.WebMercator}),minus180Line:new p({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:d.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p({paths:[[[180,-180],[180,180]]],spatialReference:d.WGS84}),minus180Line:new p({paths:[[[-180,-180],[-180,180]]],spatialReference:d.WGS84})}};t.straightLineDensify=F,t.normalizeCentralMeridian=function e(t,n,o){return i(this,void 0,void 0,function(){var i,d,h,v,g,b,x,F,T,A,k,R,E,M,N,O,P,U,L,z,B,V,q,D,J,Q,G,H,W,K,X,$,Z,Y,ee,te,re;return r(this,function(r){switch(r.label){case 0:if(!Array.isArray(t))return[2,e([t],n)];for(i=n?n.url:a.geometryServiceUrl,A=0,k=[],R=[],E=0,M=t;E<M.length;E++)N=M[E],s.isNone(N)?R.push(N):(d||(d=N.spatialReference,h=c.getInfo(d),v=d.isWebMercator,g=C[x=v?102100:4326].maxX,b=C[x].minX,F=C[x].plus180Line,T=C[x].minus180Line),h?"mesh"===N.type?R.push(N):"point"===N.type?R.push(S(N.clone(),g,b)):"multipoint"===N.type?((O=N.clone()).points=O.points.map(function(e){return S(e,g,b)}),R.push(O)):"extent"===N.type?(U=N.clone(),P=U._normalize(!1,!1,h),R.push(P.rings?new u(P):P)):N.extent?(U=N.extent,L=w(U.xmin,b),B=0==(z=L*(2*g))?N.clone():_(N.clone(),z),U.offset(z,0),U.intersects(F)&&U.xmax!==g?(A=U.xmax>A?U.xmax:A,B=I(B,v),k.push(B),R.push("cut")):U.intersects(T)&&U.xmin!==b?(A=U.xmax*(2*g)>A?U.xmax*(2*g):A,B=I(B,v,360),k.push(B),R.push("cut")):R.push(B)):R.push(N.clone()):R.push(N));for(V=w(A,g),q=-90,D=V,J=new p;V>0;)Q=360*V-180,J.addPath([[Q,q],[Q,-1*q]]),q*=-1,V--;return k.length>0&&D>0?[4,y.cut(i,k,J,o)]:[3,3];case 1:for(G=r.sent(),H=j(k,G),W=[],K=[],ee=0;ee<R.length;ee++)"cut"!==(te=R[ee])?K.push(te):(re=H.shift(),X=t[ee],s.isSome(X)&&"polygon"===X.type&&X.rings&&X.rings.length>1&&re.rings.length>=X.rings.length?(W.push(re),K.push("simplify")):K.push(v?f.geographicToWebMercator(re):re));return W.length?[4,m.simplify(i,W,o)]:[2,K];case 2:for($=r.sent(),Z=[],ee=0;ee<K.length;ee++)"simplify"!==(te=K[ee])?Z.push(te):Z.push(v?f.geographicToWebMercator($.shift()):$.shift());return[2,Z];case 3:for(Y=[],ee=0;ee<R.length;ee++)"cut"!==(te=R[ee])?Y.push(te):(re=k.shift(),Y.push(!0===v?f.geographicToWebMercator(re):re));return[2,l.resolve(Y)]}})})},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var i=e.spatialReference&&c.getInfo(e.spatialReference);if(!i)return r;var a,n=i.valid,o=n[0],s=n[1],l=2*s,u=r.width,p=r.xmin,d=r.xmax;if(p=(t=[d,p])[0],d=t[1],"extent"===e.type||0===u||u<=s||u>l||p<o||d>s)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;a=x(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;a=x(e.paths);break;case"multipoint":a=e.points}for(var f=r.clone(),y=0;y<a.length;y++){var m=a[y][0];m<0?(m+=s,d=Math.max(m,d)):(m-=s,p=Math.min(m,p))}return f.xmin=p,f.xmax=d,f.width<u?(f.xmin-=s,f.xmax-=s,f):r},t.normalizeMapX=function(e,t){var r=c.getInfo(t);if(r){var i=r.valid,a=i[0],n=i[1],o=n-a;if(e<a)for(;e<a;)e+=o;if(e>n)for(;e>n;)e-=o}return e}}.apply(null,i))||(e.exports=a)},117:function(e,t,r){var i,a;i=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapParameters=function e(t){var r={};for(var i in t)if("declaredClass"!==i){var a=t[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){r[i]=[];for(var n=0;n<a.length;n++)r[i][n]=e(a[n])}else"object"==typeof a?a.toJSON&&(r[i]=JSON.stringify(a)):r[i]=a}return r}}.apply(null,i))||(e.exports=a)},140:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(83),r(35),r(47),r(39),r(30)],void 0===(a=function(e,t,r,i,a,n,o,s,l){return function(e){function t(t){var r=e.call(this,t)||this;return r.requestOptions=null,r.url=null,r}return r(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"!=typeof e?e:n({url:e},t)},Object.defineProperty(t.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0}),t.prototype._parseUrl=function(e){return e?s.urlToObject(e):null},t.prototype._encode=function(e,t,r){var i={};for(var a in e)if("declaredClass"!==a){var n=e[a];if(null!=n&&"function"!=typeof n)if(Array.isArray(n)){i[a]=[];for(var o=0;o<n.length;o++)i[a][o]=this._encode(n[o])}else if("object"==typeof n)if(n.toJSON){var s=n.toJSON(r&&r[a]);i[a]=t?s:JSON.stringify(s)}else i[a]=t?n:JSON.stringify(n);else i[a]=n}return i},i([l.property({readOnly:!0,dependsOn:["url"]})],t.prototype,"parsedUrl",null),i([l.property()],t.prototype,"requestOptions",void 0),i([l.property({type:String})],t.prototype,"url",void 0),i([l.subclass("esri.tasks.Task")],t)}(l.declared(o))}.apply(null,i))||(e.exports=a)},142:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(35),r(32),r(31),r(42),r(44),r(39),r(46)],void 0===(a=function(e,t,r,i,a,n,o,s,l){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,u,p){return i(this,void 0,void 0,function(){var i,d,c,f,y,m,h;return a(this,function(a){switch(a.label){case 0:return i="string"==typeof e?s.urlToObject(e):e,d=t[0].spatialReference,c=r({},p,{query:r({},i.query,{f:"json",sr:JSON.stringify(d),target:JSON.stringify({geometryType:l.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(u)})}),[4,o(i.path+"/cut",c)];case 1:return f=a.sent(),y=f.data,m=y.cutIndexes,h=y.geometries,[2,{cutIndexes:m,geometries:(void 0===h?[]:h).map(function(e){return n.fromJSON(e).set(d)})}]}})})}}.apply(null,i))||(e.exports=a)},143:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(35),r(32),r(31),r(44),r(39),r(46)],void 0===(a=function(e,t,r,i,a,n,o,s){function l(e){return{geometryType:s.getJsonType(e[0]),geometries:e.map(function(e){return e.toJSON()})}}function u(e,t,r){var i=s.getGeometryType(t);return e.map(function(e){var t=i.fromJSON(e);return t.spatialReference=r,t})}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,p){return i(this,void 0,void 0,function(){var i,d,c,f;return a(this,function(a){switch(a.label){case 0:return i="string"==typeof e?o.urlToObject(e):e,d=t[0].spatialReference,c=s.getJsonType(t[0]),f=r({},p,{query:r({},i.query,{f:"json",sr:d.wkid?d.wkid:JSON.stringify(d),geometries:JSON.stringify(l(t))})}),[4,n(i.path+"/simplify",f)];case 1:return[2,u(a.sent().data,c,d)]}})})}}.apply(null,i))||(e.exports=a)},164:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(187),r(37),r(34)],void 0===(a=function(e,t,r,i,a){Object.defineProperty(t,"__esModule",{value:!0});var n=i.getLogger("esri.core.requireUtils");t.when=function e(t,i){return r.deprecatedFunction(n,"when",{moduleName:"requireUtils",replacement:"Use `promiseUtils.create()` instead.",version:"4.10",warnOnce:!0}),Array.isArray(i)?a.create(function(e){t(i,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e(t)})}):e(t,[i]).then(function(e){return e[0]})},t.getAbsMid=function(e,t,r){return t.toAbsMid?t.toAbsMid(e):r.id.replace(/\/[^\/]*$/gi,"/")+e}}.apply(null,i))||(e.exports=a)},171:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(35),r(44),r(40),r(39),r(46),r(104),r(228),r(227),r(117),r(6)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p){function d(e,t){var r=e.geometry,i=e.toJSON(),a=i;if(r&&(a.geometry=JSON.stringify(r),a.geometryType=o.getJsonType(r),a.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),i.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(a.objectIds=i.objectIds.join(",")),i.orderByFields&&(a.orderByFields=i.orderByFields.join(",")),!i.outFields||t&&(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)?delete a.outFields:-1!==i.outFields.indexOf("*")?a.outFields="*":a.outFields=i.outFields.join(","),i.outSR?a.outSR=i.outSR.wkid||JSON.stringify(i.outSR):r&&(i.returnGeometry||i.returnCentroid)&&(a.outSR=a.inSR),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(a.outStatistics=JSON.stringify(i.outStatistics)),i.pixelSize&&(a.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(a.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.source&&(a.layer=JSON.stringify({source:i.source}),delete i.source),i.timeExtent){var n=i.timeExtent,s=n.start,l=n.end;null==s&&null==l||(a.time=s===l?s:(null==s?"null":s)+","+(null==l?"null":l)),delete i.timeExtent}return a}function c(e,t,o,l,u){void 0===l&&(l={});var c="string"==typeof e?n.urlToObject(e):e,f=t.geometry?[t.geometry]:[];return l.responseType="pbf"===o?"array-buffer":"json",s.normalizeCentralMeridian(f,null,l).then(function(e){var n=e&&e[0];a.isSome(n)&&((t=t.clone()).geometry=n);var s=p.mapParameters(r({},c.query,{f:o},u,d(t,u)));return i(c.path+"/query",r({},l,{query:s}))})}Object.defineProperty(t,"__esModule",{value:!0});var f,y="Layer does not support extent calculation.";t.queryToQueryStringParameters=d,t.executeQuery=function(e,t,r){return c(e,t,"json",r)},t.executeQueryPBF=function(e,t,r,i){var a=r.useWorker?(null==f&&(f=new u.PBFWorker),f):null;return c(e,t,"pbf",i).then(function(e){var t=function(t){var r=e;return r.data=t,r};return r.useWorker?a.parseFeatureQuery(e.data,r).then(function(e){return t(e)}):t(l.parsePBFFeatureQuery(e.data,r))})},t.executeQueryForIds=function(e,t,r){return c(e,t,"json",r,{returnIdsOnly:!0})},t.executeQueryForCount=function(e,t,r){return c(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})},t.executeQueryForExtent=function(e,t,r){return c(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(y);if(t.hasOwnProperty("count"))throw new Error(y);return e})}}.apply(null,i))||(e.exports=a)},1831:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(35),r(31),r(32),r(1832),r(278),r(276),r(56),r(30),r(194),r(1871),r(1873),r(1874),r(1875),r(172),r(336)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c,f,y,m,h,v,g){var b="esri-icon-font-fallback-text",w="esri-icon-loading-indicator esri-rotating",_="esri-icon-left-triangle-arrow",x="esri-icon-right-triangle-arrow",F="esri-widget__table",I="esri-widget",S="esri-feature",j="esri-feature__size-container",T="esri-feature__title",C="esri-feature__main-container",A="esri-feature__button",k="esri-feature__icon",R="esri-feature__content-element",E="esri-feature__text",M="esri-feature__last-edited-info",N="esri-feature--media-pagination-visible",O="esri-feature__attachments",P="esri-feature__attachments--list",U="esri-feature__attachments--preview",L="esri-feature__attachments-title",z="esri-feature__attachments-items",B="esri-feature__attachments-item",V="esri-feature__attachment-item-mask",q="esri-feature__attachment-item-mask--icon",D="esri-feature__attachments-image",J="esri-feature__attachments-image-overlay",Q="esri-feature__attachments-link-icon esri-icon-link-external",G="esri-feature__attachments-image--resizable",H="esri-feature__attachments-filename",W="esri-feature__attachments-item-link",K="esri-feature__fields",X="esri-feature__field-header",$="esri-feature__field-data",Z="esri-feature__field-data--date",Y="esri-feature__media",ee="esri-feature__media-container",te="esri-feature__media-item-container",re="esri-feature__media-item",ie="esri-feature__media-item-title",ae="esri-feature__media-item-caption",ne="esri-feature__media-previous",oe="esri-feature__media-previous-icon",se="esri-feature__media-previous-icon--rtl",le="esri-feature__media-next",ue="esri-feature__media-next-icon",pe="esri-feature__media-next-icon--rtl",de="esri-feature__media-chart",ce="esri-feature__loading-container",fe="esri-feature__loading-spinner",ye={title:!0,content:!0,lastEditedInfo:!0};return function(e){function t(t){var r=e.call(this,t)||this;return r._chartMap=new Map,r._activeMediaMap=new Map,r._refreshTimers=new Map,r._mediaInfo=new Map,r._loadingChartsModule=null,r.graphic=null,r.defaultPopupTemplateEnabled=!1,r.label=s.widgetLabel,r.spatialReference=null,r.title=null,r.visibleElements=a({},ye),r.map=null,r.view=null,r.viewModel=new f,r}return r(t,e),t.prototype.postInitialize=function(){var e=this;this.own(p.init(this,"viewModel.content",function(){return e._setupMediaRefreshTimers()}))},t.prototype.destroy=function(){this._clearMediaRefreshTimers(),this._activeMediaMap.clear(),this._activeMediaMap=null,this._destroyCharts()},t.prototype.destroyCharts=function(){return this._destroyCharts()},t.prototype.castVisibleElements=function(e){return a({},ye,e)},t.prototype.render=function(){var e=v.tsx("div",{key:"loading-container",class:ce},v.tsx("span",{class:this.classes(w,fe)})),t=this.visibleElements,r=this.viewModel,i=r.waitingForContent,a=r.title,n=t.title?v.tsx("h4",{class:T,innerHTML:a}):null,o=t.content?v.tsx("div",{class:C},[this._renderContent(),this._renderLastEditInfo()]):null;return v.tsx("div",{class:this.classes(S,I)},v.tsx("div",{class:j},n,i?e:o))},t.prototype.goToMedia=function(e,t){this._setContentElementMedia(e,t)},t.prototype.nextMedia=function(e){this._pageContentElementMedia(e,"next")},t.prototype.previousMedia=function(e){this._pageContentElementMedia(e,"previous")},t.prototype._buildKey=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e+"__"+(this.get("viewModel.graphic.uid")||"0")+"-"+t.join("-")},t.prototype._destroyCharts=function(){return o(this,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:return(e=this._loadingChartsModule)?[4,e]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._chartMap.forEach(function(e){return e.dispose()}),this._chartMap.clear(),[2]}})})},t.prototype._renderContent=function(){var e=this.viewModel.content;return e?"string"==typeof e?v.tsx("div",{key:"content-string",innerHTML:e}):v.isWidget(e)?v.tsx("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?v.tsx("div",{key:"content-html-element",bind:e,afterCreate:this._attachToNode}):v.isWidgetBase(e)?v.tsx("div",{key:"content-dijit",bind:e.domNode,afterCreate:this._attachToNode}):Array.isArray(e)&&e.length?v.tsx("div",{key:"content-content-elements"},e.map(this._renderContentElement,this)):null:null},t.prototype._renderContentElement=function(e,t){var r=this.visibleElements;if("boolean"!=typeof r.content&&!r.content[e.type])return null;switch(e.type){case"attachments":return this._renderAttachments(e);case"fields":return this._renderFields(e,t);case"media":return this._renderMedia(e,t);case"text":return this._renderText(e,t);default:return null}},t.prototype._renderAttachmentInfo=function(e){var t,r,i=e.attachmentInfo,a=e.supportsResizeAttachments,n=e.contentElement.displayType,o=i.contentType,l=i.orientationInfo,u=i.name,p=i.url,d="list"===n?48:400,c=l?[l.rotation?"rotate("+l.rotation+"deg)":"",l.mirrored?"scaleX(-1)":""].join(" "):"",f=c?{transform:c}:{},m=a&&y.isSupportedImage(o),h=-1===p.indexOf("?")?"?":"&",g=m?""+p+h+"w="+d:y.getIconPath(o),b=((t={})[q]=!m,t),w=((r={})[G]=a,r);return v.tsx("li",{class:B,key:i},v.tsx("a",{class:W,href:p,rel:"noreferrer",target:"_blank"},v.tsx("div",{class:this.classes(b,V)},v.tsx("img",{styles:f,alt:"",class:this.classes(w,D),src:g}),v.tsx("span",{class:J},v.tsx("span",{"aria-hidden":"true",class:Q}))),v.tsx("span",{class:H},u||s.noTitle)))},t.prototype._renderAttachments=function(e){var t,r=this,i=e.displayType,a=e.attachmentInfos,n=a&&a.length,o=this.get("graphic.layer.capabilities.operations.supportsResizeAttachments"),l=((t={})[P]="preview"!==i,t[U]="preview"===i,t);return n?v.tsx("div",{key:"attachments-element",class:this.classes(O,R,l)},v.tsx("div",{class:L},s.attach),v.tsx("ul",{class:z},a.map(function(t,i){return r._renderAttachmentInfo({attachmentInfo:t,attachmentInfoIndex:i,supportsResizeAttachments:o,contentElement:e})}))):null},t.prototype._forceLTR=function(e){return"&lrm;"+e},t.prototype._renderFieldInfo=function(e,t){var r,i=this.viewModel.formattedAttributes,a=i?i.content[t]||i.global:null,n=e.fieldName,o=e.label||n,s=a?null==a[n]?"":a[n]:"",l=!(!e.format||!e.format.dateFormat),u="number"==typeof s&&!l?this._forceLTR(s):h.autoLink(s),p=((r={})[Z]=l,r);return v.tsx("tr",{key:this._buildKey("fields-element-info-row",t)},v.tsx("th",{key:this._buildKey("fields-element-info-row-header",t),class:X,innerHTML:o}),v.tsx("td",{key:this._buildKey("fields-element-info-row-data",t),class:this.classes($,p),innerHTML:u}))},t.prototype._renderFields=function(e,t){var r=this,i=e.fieldInfos;return i?v.tsx("div",{key:this._buildKey("fields-element",t),class:this.classes(K,R)},v.tsx("table",{class:F,summary:s.fieldsSummary,key:this._buildKey("fields-element-table",t)},v.tsx("tbody",{key:this._buildKey("fields-element-table-body",t)},i.map(function(e){return r._renderFieldInfo(e,t)})))):null},t.prototype._shouldOpenInNewTab=function(e){if(void 0===e&&(e=""),e)return!/^(?:mailto:|tel:)/.test(e.trim().toLowerCase())},t.prototype._clearMediaRefreshTimers=function(){this._refreshTimers.forEach(function(e){return clearTimeout(e)}),this._refreshTimers.clear()},t.prototype._clearMediaRefreshTimer=function(e){var t=this._refreshTimers.get(e);t&&(clearTimeout(t),this._refreshTimers.delete(e))},t.prototype._getImageSource=function(e,t){var r=-1!==e.indexOf("?")?"&":"?",i=e.split("#"),a=i[0],n=i[1],o=void 0===n?"":n;return""+a+r+"timestamp="+t+(o?"#":"")+o},t.prototype._setupMediaRefreshTimer=function(e){var t=this.get("viewModel.content");if(Array.isArray(t)){var r=t[e];if(r&&"media"===r.type){var i=this._activeMediaMap.get(e);isNaN(i)&&(i=0);var a=r.mediaInfos[i];a&&"image"===a.type&&a.refreshInterval&&this._setRefreshTimeout(e,a)}}},t.prototype._setupMediaRefreshTimers=function(){var e=this;this._clearMediaRefreshTimers();var t=this.get("viewModel.content");Array.isArray(t)&&t.forEach(function(t,r){return e._setupMediaRefreshTimer(r)})},t.prototype._updateMediaInfoTimestamp=function(e,t){var r=Date.now();this._mediaInfo.set(t,{timestamp:r,sourceURL:this._getImageSource(e,r)}),this.scheduleRender()},t.prototype._setRefreshTimeout=function(e,t){var r=this,i=t.refreshInterval,a=t.value;if(i){var n=6e4*i;this._updateMediaInfoTimestamp(a.sourceURL,e);var o=setInterval(function(){r._updateMediaInfoTimestamp(a.sourceURL,e)},n);this._refreshTimers.set(e,o)}},t.prototype._renderMediaInfoType=function(e){var t=e.mediaInfo,r=e.contentElementIndex,i=e.activeMediaIndex,a=t.title,n=void 0===a?"":a;if("image"===t.type){var o=t,s=o.value,l=o.refreshInterval,u=s.sourceURL,p=s.linkURL,d=this._shouldOpenInNewTab(p)?"_blank":"_self",c="_blank"===d?"noreferrer":"",f=l?this._mediaInfo.get(r):null,y=f?f.timestamp:0,m=f?f.sourceURL:u,h=v.tsx("img",{alt:n,key:this._buildKey("media-image",r,i,y),src:m});return(p?v.tsx("a",{title:n,href:p,rel:c,target:d},h):null)||h}if(-1!==t.type.indexOf("chart"))return v.tsx("div",{key:this._buildKey("media-chart",r,i),bind:this,"data-media-info":t,"data-content-element-index":r,class:de,afterCreate:this._getChartDependencies})},t.prototype._getChartDependencies=function(e){var t=this,r=e["data-media-info"],i=e["data-content-element-index"],a=this._chartMap.get(i);a&&a.dispose();var n=r.value,o=r.type;this._loadingChartsModule=m.loadChartsModule().then(function(r){return t._renderChart({chartDiv:e,contentElementIndex:i,type:o,value:n,chartsModule:r})})},t.prototype._createPieChart=function(e){var t=e.chartDiv,r=e.chartsModule,i=r.am4core,a=r.am4charts,n=i.create(t,a.PieChart);n.rtl=g.isRTL();var o=n.series.push(new a.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="y",o.dataFields.category="x",o.tooltip.label.wrap=!0,o.tooltip.label.maxWidth=200,o.tooltip.label.rtl=n.rtl,n},t.prototype._createXYChart=function(e){var t=e.chartDiv,r=e.type,i=e.value,a=e.chartsModule,n=a.am4core,o=a.am4charts,s=n.create(t,o.XYChart);s.rtl=g.isRTL();var l=i.series.length>15;if("column-chart"===r){var u=s.xAxes.push(new o.CategoryAxis);u.dataFields.category="x",u.renderer.labels.template.disabled=!0,u.tooltip.label.wrap=!0,u.tooltip.label.maxWidth=200,u.tooltip.label.rtl=s.rtl,u.tooltip.events.on("sizechanged",function(){u.tooltip.dy=-u.tooltip.contentHeight});var p=(f=s.yAxes.push(new o.ValueAxis)).renderer.labels.template;f.renderer.minLabelPosition=.05,f.renderer.maxLabelPosition=.95,p.wrap=!0,(y=s.series.push(new o.ColumnSeries)).dataFields.valueY="y",y.dataFields.categoryX="x",s.cursor=new o.XYCursor,l&&(s.scrollbarX=new n.Scrollbar)}if("bar-chart"===r){var d=s.yAxes.push(new o.CategoryAxis);d.dataFields.category="x",d.renderer.inversed=!0,d.renderer.labels.template.disabled=!0,d.tooltip.label.wrap=!0,d.tooltip.label.maxWidth=200,d.tooltip.label.rtl=s.rtl,d.tooltip.events.on("sizechanged",function(){d.tooltip.dx=d.tooltip.contentWidth});p=(f=s.xAxes.push(new o.ValueAxis)).renderer.labels.template;f.renderer.minLabelPosition=.05,f.renderer.maxLabelPosition=.95,p.wrap=!0,(y=s.series.push(new o.ColumnSeries)).dataFields.valueX="y",y.dataFields.categoryY="x",s.cursor=new o.XYCursor,l&&(s.scrollbarY=new n.Scrollbar)}if("line-chart"===r){var c=s.xAxes.push(new o.CategoryAxis);c.dataFields.category="x",c.renderer.labels.template.disabled=!0,c.tooltip.label.wrap=!0,c.tooltip.label.maxWidth=200,c.tooltip.label.rtl=s.rtl,c.tooltip.events.on("sizechanged",function(){c.tooltip.dy=-c.tooltip.contentHeight});var f,y;p=(f=s.yAxes.push(new o.ValueAxis)).renderer.labels.template;f.renderer.minLabelPosition=.05,f.renderer.maxLabelPosition=.95,p.wrap=!0,(y=s.series.push(new o.LineSeries)).dataFields.categoryX="x",y.dataFields.valueY="y",s.cursor=new o.XYCursor,l&&(s.scrollbarX=new n.Scrollbar)}return s},t.prototype._renderChart=function(e){var t=e.contentElementIndex,r=e.type,i=e.value,a=e.chartsModule;a.am4core.useTheme(a.am4themes_animated);var n="pie-chart"===r?this._createPieChart(e):this._createXYChart(e);n.data=i.series.map(function(e){return{x:e.tooltip,y:e.y}}),this._chartMap.set(t,n)},t.prototype._renderMediaInfo=function(e){var t=e.mediaInfo,r=e.contentElementIndex,i=e.activeMediaIndex,a=this._renderMediaInfoType({mediaInfo:t,contentElementIndex:r,activeMediaIndex:i}),n=t.title?v.tsx("div",{key:this._buildKey("media-title",r),class:ie,innerHTML:t.title}):null,o=t.caption?v.tsx("div",{key:this._buildKey("media-caption",r),class:ae,innerHTML:t.caption}):null;return v.tsx("div",{key:this._buildKey("media-container",r),class:te},v.tsx("div",{key:this._buildKey("media-item-container",r),class:re},a),n,o)},t.prototype._renderMediaPageButton=function(e,t){var r="previous"===e,i=r?s.previous:s.next,a=r?this.classes(A,ne):this.classes(A,le),n=r?this.classes(k,oe,_):this.classes(k,ue,x),o=r?this.classes(k,se,x):this.classes(k,pe,_),l=r?"media-previous":"media-next",u=r?this._previousClick:this._nextClick;return v.tsx("div",{key:this._buildKey(l,t),title:i,tabIndex:0,role:"button",class:a,"data-content-element-index":t,bind:this,onkeydown:u,onclick:u},v.tsx("span",{"aria-hidden":"true",class:n}),v.tsx("span",{"aria-hidden":"true",class:o}),v.tsx("span",{class:b},i))},t.prototype._handleMediaKeyup=function(e){var t=e.currentTarget["data-content-element-index"],r=u.eventKey(e);"ArrowLeft"===r&&(e.stopPropagation(),this.previousMedia(t)),"ArrowRight"===r&&(e.stopPropagation(),this.nextMedia(t))},t.prototype._renderMedia=function(e,t){var r,i=e.mediaInfos,a=i&&i.length||0,n=((r={})[N]=a>1,r),o=this._renderMediaPageButton("previous",t),s=this._renderMediaPageButton("next",t),l=this._activeMediaMap.get(t);return isNaN(l)&&(this._activeMediaMap.set(t,0),l=0),a?v.tsx("div",{key:this._buildKey("media-element",t),"data-content-element-index":t,bind:this,onkeyup:this._handleMediaKeyup,class:this.classes(Y,R,n)},v.tsx("div",{key:this._buildKey("media-element-container",t),class:ee},o,this._renderMediaInfo({mediaInfo:i[l],contentElementIndex:t,activeMediaIndex:l}),s)):null},t.prototype._renderLastEditInfo=function(){var e=this.visibleElements,t=this.viewModel.lastEditInfo;if(!t||!e.lastEditedInfo)return null;var r=t.date,i=t.user,a="edit"===t.type?i?s.lastEditedByUser:s.lastEdited:i?s.lastCreatedByUser:s.lastCreated,n=l.substitute(a,{date:r,user:i});return v.tsx("div",{key:"edit-info-element",class:this.classes(M,R)},n)},t.prototype._renderText=function(e,t){return e.text?v.tsx("div",{key:this._buildKey("text-element",t),innerHTML:e.text,class:this.classes(E,R)}):null},t.prototype._attachToNode=function(e){e.appendChild(this)},t.prototype._setContentElementMedia=function(e,t){this._clearMediaRefreshTimer(e);var r=this.viewModel.content,i=r&&r[e],a=i&&i.mediaInfos;if(a&&a.length){var n=(t+a.length)%a.length;this._activeMediaMap.set(e,n),this._setupMediaRefreshTimer(e),this.scheduleRender()}},t.prototype._pageContentElementMedia=function(e,t){var r="previous"===t?-1:1,i=this._activeMediaMap.get(e)+r;this._setContentElementMedia(e,i)},t.prototype._previousClick=function(e){var t=e.currentTarget["data-content-element-index"];this.previousMedia(t)},t.prototype._nextClick=function(e){var t=e.currentTarget["data-content-element-index"];this.nextMedia(t)},i([d.aliasOf("viewModel.graphic")],t.prototype,"graphic",void 0),i([d.aliasOf("viewModel.defaultPopupTemplateEnabled")],t.prototype,"defaultPopupTemplateEnabled",void 0),i([d.property()],t.prototype,"label",void 0),i([d.aliasOf("viewModel.spatialReference")],t.prototype,"spatialReference",void 0),i([d.aliasOf("viewModel.title")],t.prototype,"title",void 0),i([d.property(),v.renderable()],t.prototype,"visibleElements",void 0),i([d.cast("visibleElements")],t.prototype,"castVisibleElements",null),i([d.aliasOf("viewModel.map")],t.prototype,"map",void 0),i([d.aliasOf("viewModel.view")],t.prototype,"view",void 0),i([d.property({type:f}),v.renderable(["viewModel.waitingForContent","viewModel.content","viewModel.lastEditInfo"])],t.prototype,"viewModel",void 0),i([v.accessibleHandler()],t.prototype,"_previousClick",null),i([v.accessibleHandler()],t.prototype,"_nextClick",null),i([d.subclass("esri.widgets.Feature")],t)}(d.declared(c))}.apply(null,i))||(e.exports=a)},1832:function(e,t,r){var i,a;i=[r(156),r(177),r(1833),r(1834),r(1835),r(1836),r(1837),r(1838),r(1839),r(1840),r(1841),r(1842),r(1843),r(1844),r(1845),r(1846),r(1847),r(1848),r(1849),r(1850),r(1851),r(1852),r(1853),r(1854),r(1855),r(1856),r(1857),r(1858),r(1859),r(1860),r(1861),r(1862),r(1863),r(1864),r(1865),r(1866),r(1867),r(1868),r(1869),r(1870)],void 0===(a=function(e,t){return t(e,"esri/widgets/Feature/nls/Feature",r.dj.c(),!1)}.apply(null,i))||(e.exports=a)},1833:function(e,t,r){e.exports={widgetLabel:"معلم",attach:"المرفقات",fields:"حقول",fieldsSummary:"قائمة البيانات الجدولية والقيم",media:"الوسائط",next:"التالي",noTitle:"بلا عنوان",previous:"السابق",lastEdited:"آخر تحرير في {date}.",lastCreated:"تم الإنشاء في {date}.",lastEditedByUser:"آخر تحرير من قبل {user} في {date}.",lastCreatedByUser:"تم الإنشاء من قبل {user} في {date}."}},1834:function(e,t,r){e.exports={widgetLabel:"Geoobjekt",attach:"Privici",fields:"Polja",fieldsSummary:"Popis atributa i vrijednosti",media:"Mediji",next:"Sljedeće",noTitle:"Neimenovano",previous:"Prethodno",lastEdited:"Posljednje uređivanje {date}.",lastCreated:"Stvoreno {date}.",lastEditedByUser:"Posljednje uređivanje {user} {date}.",lastCreatedByUser:"Stvorio {user} {date}."}},1835:function(e,t,r){e.exports={widgetLabel:"Entitat",attach:"Fitxers adjunts",fields:"Camps",fieldsSummary:"Llista d'atributs i valors",media:"Multimèdia",next:"Següent",noTitle:"Sense títol",previous:"Anterior",lastEdited:"Editat per última vegada el {date}.",lastCreated:"Creat el {date}.",lastEditedByUser:"Editat per última vegada per {user} el {date}.",lastCreatedByUser:"Creat per {user} el {date}."}},1836:function(e,t,r){e.exports={widgetLabel:"Prvek",attach:"Přílohy",fields:"Pole",fieldsSummary:"Seznam atributů a hodnot",media:"Média",next:"Další",noTitle:"Bez názvu",previous:"Předchozí",lastEdited:"Datum poslední úpravy {date}.",lastCreated:"Datum vytvoření {date}.",lastEditedByUser:"Poslední úpravu provedl(a) {user} dne {date}.",lastCreatedByUser:"Vytvořil(a) {user} dne {date}."}},1837:function(e,t,r){e.exports={widgetLabel:"Objekt",attach:"Vedhæftninger",fields:"Felter",fieldsSummary:"Liste med attributter og værdier",media:"Medier",next:"Næste",noTitle:"Uden titel",previous:"Forrige",lastEdited:"Senest redigeret d. {date}.",lastCreated:"Oprettet d. {date}.",lastEditedByUser:"Senest redigeret af {user} d. {date}.",lastCreatedByUser:"Oprettet af {user} d. {date}."}},1838:function(e,t,r){e.exports={widgetLabel:"Feature",attach:"Anlagen",fields:"Felder",fieldsSummary:"Liste der Attribute und Werte",media:"Medien",next:"Nächstes",noTitle:"Ohne Titel",previous:"Vorheriges",lastEdited:"Zuletzt bearbeitet am {date}.",lastCreated:"Erstellt am {date}.",lastEditedByUser:"Zuletzt bearbeitet von {user} am {date}.",lastCreatedByUser:"Erstellt von {user} am {date}."}},1839:function(e,t,r){e.exports={widgetLabel:"Στοιχείο",attach:"Συνημμένα",fields:"Πεδία",fieldsSummary:"Λίστα γνωρισμάτων και τιμών",media:"Πολυμέσα",next:"Επόμενο",noTitle:"Χωρίς τίτλο",previous:"Προηγούμενο",lastEdited:"Τελευταία επεξεργασία στις {date}.",lastCreated:"Δημιουργήθηκε στις {date}.",lastEditedByUser:"Τελευταία επεξεργασία από τον χρήστη {user} στις {date}.",lastCreatedByUser:"Δημιουργήθηκε από τον χρήστη {user} στις {date}."}},1840:function(e,t,r){e.exports={widgetLabel:"Entidad",attach:"Adjuntos",fields:"Campos",fieldsSummary:"Lista de atributos y valores",media:"Multimedia",next:"Siguiente",noTitle:"Sin título",previous:"Anterior",lastEdited:"Última edición el {date}.",lastCreated:"Creado el {date}.",lastEditedByUser:"Última edición por {user} el {date}.",lastCreatedByUser:"Creado por {user} el {date}."}},1841:function(e,t,r){e.exports={widgetLabel:"Objekt",attach:"Manused",fields:"Väljad",fieldsSummary:"Atribuutide ja väärtuste loend",media:"Meedia",next:"Järgmine",noTitle:"Pealkirjata",previous:"Eelmine",lastEdited:"Viimati muudetud {date}.",lastCreated:"Loodud {date}.",lastEditedByUser:"Viimati muutnud {user} kuupäeval {date}.",lastCreatedByUser:"Loonud {user} kuupäeval {date}."}},1842:function(e,t,r){e.exports={widgetLabel:"Ominaisuus",attach:"Liitteet",fields:"Kentät",fieldsSummary:"Ominaisuustietojen ja arvojen luettelo",media:"Media",next:"Seuraava",noTitle:"Nimetön",previous:"Edellinen",lastEdited:"Muokattu viimeksi: {date}.",lastCreated:"Luontipäivä: {date}.",lastEditedByUser:"{user} on muokannut viimeksi {date}.",lastCreatedByUser:"{user} on luonut {date}."}},1843:function(e,t,r){e.exports={widgetLabel:"Entité",attach:"Pièces jointes",fields:"Champs",fieldsSummary:"Liste des attributs et des valeurs",media:"Contenu",next:"Suivant",noTitle:"Sans titre",previous:"Précédent",lastEdited:"Dernière mise à jour le {date}.",lastCreated:"Création le {date}",lastEditedByUser:"Dernière mise à jour par {user} le {date}.",lastCreatedByUser:"Création par {user} le {date}."}},1844:function(e,t,r){e.exports={widgetLabel:"Geoobjekt",attach:"Privici",fields:"Polja",fieldsSummary:"Popis atributa i vrijednosti",media:"Mediji",next:"Sljedeće",noTitle:"Neimenovano",previous:"Prethodno",lastEdited:"Posljednje uređivanje {date}.",lastCreated:"Stvoreno {date}.",lastEditedByUser:"Posljednje uređivanje {user} {date}.",lastCreatedByUser:"Stvorio {user} {date}."}},1845:function(e,t,r){e.exports={widgetLabel:"Elem",attach:"Csatolmányok",fields:"Mezők",fieldsSummary:"Attribútumok és értékek listája",media:"Média",next:"Következő",noTitle:"Cím nélkül",previous:"Előző",lastEdited:"Utoljára szerkesztve: {date}.",lastCreated:"Létrehozva: {date}.",lastEditedByUser:"Utoljára szerkesztette {user} ekkor: {date}.",lastCreatedByUser:"Létrehozta {user} ekkor: {date}."}},1846:function(e,t,r){e.exports={widgetLabel:"ישות",attach:"קבצים מצורפים",fields:"שדות",fieldsSummary:"רשימת מאפיינים וערכים",media:"מדיה",next:"הבא",noTitle:"ללא כותרת",previous:"הקודם",lastEdited:"עריכה אחרונה ב-{date}.",lastCreated:"נוצר ב-{date}.",lastEditedByUser:"עריכה אחרונה על-ידי {user} ב-{date}.",lastCreatedByUser:"נוצר על-ידי {user} ב-{date}."}},1847:function(e,t,r){e.exports={widgetLabel:"Fitur",attach:"Lampiran",fields:"Kolom",fieldsSummary:"Daftar atribut dan nilai",media:"Media",next:"Berikutnya",noTitle:"Tidak berjudul",previous:"Sebelumnya",lastEdited:"Terakhir diedit pada {date}.",lastCreated:"Dibuat pada {date}.",lastEditedByUser:"Terakhir diedit oleh {user} pada {date}.",lastCreatedByUser:"Dibuat oleh {user} pada {date}."}},1848:function(e,t,r){e.exports={widgetLabel:"Feature",attach:"Allegati",fields:"Campi",fieldsSummary:"Elenco di attributi e valori",media:"File multimediali",next:"Successivo",noTitle:"Senza titolo",previous:"Precedente",lastEdited:"Ultima modifica in data {date}.",lastCreated:"Creato in data {date}.",lastEditedByUser:"Ultima modifica da parte di {user} in data {date}.",lastCreatedByUser:"Creato da {user} in data {date}."}},1849:function(e,t,r){e.exports={widgetLabel:"フィーチャ",attach:"添付ファイル",fields:"フィールド",fieldsSummary:"属性および値のリスト",media:"メディア",next:"次へ",noTitle:"無題",previous:"前へ",lastEdited:"{date} に最後に編集されました。",lastCreated:"{date} に作成されました。",lastEditedByUser:"{user} によって {date} に最後に編集されました。",lastCreatedByUser:"{user} によって {date} に作成されました。"}},1850:function(e,t,r){e.exports={widgetLabel:"피처(Feature)",attach:"첨부 파일",fields:"필드",fieldsSummary:"속성 및 값 목록",media:"미디어",next:"다음",noTitle:"제목 없음",previous:"이전",lastEdited:"{date}에 마지막으로 편집되었습니다.",lastCreated:"{date}에 생성되었습니다.",lastEditedByUser:"{user}이(가) {date}에 마지막으로 편집했습니다.",lastCreatedByUser:"{user}이(가) {date}에 생성했습니다."}},1851:function(e,t,r){e.exports={widgetLabel:"Elements",attach:"Uzdevumi",fields:"Lauki",fieldsSummary:"Atribūtu un vērtību saraksts",media:"Informācijas datu nesēji",next:"Nākošais",noTitle:"Bez nosaukuma",previous:"Iepriekšējais",lastEdited:"Pēdējoreiz rediģēts {date}.",lastCreated:"Izveides datums: {date}.",lastEditedByUser:"Pēdējoreiz rediģēja lietotājs {user} {date}.",lastCreatedByUser:"Izveidoja lietotājs {user} {date}."}},1852:function(e,t,r){e.exports={widgetLabel:"Elementas",attach:"Priedai",fields:"Laukai",fieldsSummary:"Atributų ir reikšmių sąrašas",media:"Daugialypė informacija",next:"Toliau",noTitle:"Pavadinimo nėra",previous:"Ankstesnis",lastEdited:"Paskutinį kartą redaguota {date}.",lastCreated:"Sukurta {date}.",lastEditedByUser:"Paskutinį kartą redagavo {user} {date}.",lastCreatedByUser:"Sukūrė {user} {date}."}},1853:function(e,t,r){e.exports={widgetLabel:"Object",attach:"Bijlagen",fields:"Velden",fieldsSummary:"Lijst met attributen en waarden",media:"Media",next:"Volgende",noTitle:"Naamloos",previous:"Vorige",lastEdited:"Laatst bewerkt op {date}.",lastCreated:"Gemaakt op {date}.",lastEditedByUser:"Laatst bewerkt door {user} op {date}.",lastCreatedByUser:"Gemaakt door {user} op {date}."}},1854:function(e,t,r){e.exports={widgetLabel:"Geoobjekt",attach:"Vedlegg",fields:"Felter",fieldsSummary:"Liste med attributter og verdier",media:"Medier",next:"Neste",noTitle:"Uten tittel",previous:"Forrige",lastEdited:"Sist redigert den {date}.",lastCreated:"Opprettet den {date}.",lastEditedByUser:"Sist redigert av {user} den {date}.",lastCreatedByUser:"Opprettet av {user} den {date}."}},1855:function(e,t,r){e.exports={widgetLabel:"Obiekt",attach:"Załączniki",fields:"Pola",fieldsSummary:"Lista atrybutów i wartości",media:"Nośnik",next:"Następny",noTitle:"Bez tytułu",previous:"Poprzedni",lastEdited:"Data ostatniej edycji: {date}.",lastCreated:"Data utworzenia: {date}",lastEditedByUser:"Ostatnio edytowane przez użytkownika {user} dnia {date}.",lastCreatedByUser:"Utworzone przez użytkownika {user} dnia {date}."}},1856:function(e,t,r){e.exports={widgetLabel:"Recurso",attach:"Anexos",fields:"Campos",fieldsSummary:"Lista de atributos e valores",media:"Mídia",next:"Próximo",noTitle:"Sem título",previous:"Anterior",lastEdited:"Editado pela última vez em {date}.",lastCreated:"Criado em {date}.",lastEditedByUser:"Editado pela última vez por {user} em {date}.",lastCreatedByUser:"Criado por {user} em {date}."}},1857:function(e,t,r){e.exports={widgetLabel:"Elemento",attach:"Anexos",fields:"Campos",fieldsSummary:"Lista de atributos e valores",media:"Imagem",next:"Seguinte",noTitle:"Sem título",previous:"Anterior",lastEdited:"Editado pela última vez a {date}.",lastCreated:"Criado a {date}.",lastEditedByUser:"Editado pela última vez por {user} a {date}.",lastCreatedByUser:"Criado por {user} a {date}."}},1858:function(e,t,r){e.exports={widgetLabel:"Obiect spațial",attach:"Ataşări",fields:"Câmpuri",fieldsSummary:"Listă de atribute şi valori",media:"Media",next:"Următorul",noTitle:"Fără titlu",previous:"Anterior",lastEdited:"Ultima editare pe {date}.",lastCreated:"Creat pe {date}.",lastEditedByUser:"Ultima editare efectuată de {user} pe {date}.",lastCreatedByUser:"Creat de {user} pe {date}."}},1859:function(e,t,r){e.exports={widgetLabel:"Объект",attach:"Вложения",fields:"Поля",fieldsSummary:"Список атрибутов и значений",media:"Медиа",next:"Следующий",noTitle:"Без названия",previous:"Предыдущий",lastEdited:"Последнее изменение {date}.",lastCreated:"Создано {date}.",lastEditedByUser:"Последнее изменение от {user} {date}.",lastCreatedByUser:"Создано {user} {date}."}},1860:function(e,t,r){e.exports={widgetLabel:"Funkcionalnost",attach:"Priloge",fields:"Polj",fieldsSummary:"Seznam atributov in vrednosti",media:"Omrežja",next:"Naslednji",noTitle:"Neimenovano",previous:"Prejšnji",lastEdited:"Nazadnje urejeno dne {date}.",lastCreated:"Ustvarjeno dne {date}.",lastEditedByUser:"Nazadnje uredil {user} dne {date}.",lastCreatedByUser:"Ustvaril {user} dne {date}."}},1861:function(e,t,r){e.exports={widgetLabel:"Funkcionalnost",attach:"Prilozi",fields:"Polja",fieldsSummary:"Lista atributa i vrednosti",media:"Mediji",next:"Sledeće",noTitle:"Bez naslova",previous:"Prethodno",lastEdited:"Poslednji put izmenjeno {date}.",lastCreated:"Kreirano {date}.",lastEditedByUser:"Poslednji put izmenio {user} dana {date}.",lastCreatedByUser:"Kreirao {user} dana {date}."}},1862:function(e,t,r){e.exports={widgetLabel:"Geoobjekt",attach:"Bilagor",fields:"Fält",fieldsSummary:"Lista med attribut och värden",media:"Media",next:"Nästa",noTitle:"Namnlös",previous:"Föregående",lastEdited:"Senast redigerad den {date}.",lastCreated:"Skapad den {date}.",lastEditedByUser:"Senast redigerad av {user} den {date}.",lastCreatedByUser:"Skapad av {user} den {date}."}},1863:function(e,t,r){e.exports={widgetLabel:"ฟีเจอร์",attach:"แนบ",fields:"ฟิลด์",fieldsSummary:"รายการของข้อมูลเชิงบรรยายและค่าของข้อมูล",media:"สื่อ",next:"ถัดไป",noTitle:"ไม่มีชื่อเรื่อง",previous:"ก่อนหน้า",lastEdited:"แก้ไขล่าสุดเมื่อ {date}",lastCreated:"สร้างขึ้นเมื่อ {date}",lastEditedByUser:"แก้ไขล่าสุดโดย {user} เมื่อ {date}",lastCreatedByUser:"สร้างขึ้นโดย {user} เมื่อ {date}"}},1864:function(e,t,r){e.exports={widgetLabel:"Detay",attach:"Ekler",fields:"Alanlar",fieldsSummary:"Öznitelik ve değer listesi",media:"Ortam",next:"Sonraki",noTitle:"Adsız",previous:"Önceki",lastEdited:"Son düzenlenme tarihi {date}.",lastCreated:"Oluşturulduğu tarih {date}.",lastEditedByUser:"En son {user} tarafından {date} tarihinde düzenlenmiştir.",lastCreatedByUser:"{user} tarafından {date} tarihinde oluşturulmuştur."}},1865:function(e,t,r){e.exports={widgetLabel:"Об’єкт",attach:"Прикріплення",fields:"Поля",fieldsSummary:"Список атрибутів та значень",media:"Медіа",next:"Далі",noTitle:"Без заголовка",previous:"Назад",lastEdited:"Востаннє відредаговано {date}.",lastCreated:"Створено {date}.",lastEditedByUser:"Востаннє відредаговано {user} {date}.",lastCreatedByUser:"Створено {user} {date}."}},1866:function(e,t,r){e.exports={widgetLabel:"Đối tượng",attach:"Tệp đính kèm",fields:"Trường",fieldsSummary:"Danh sách các thuộc tính và giá trị",media:"Phương tiện truyền thông",next:"Tiếp theo",noTitle:"Chưa có tiêu đề",previous:"Trước",lastEdited:"Chỉnh sửa lần cuối vào {date}.",lastCreated:"Tạo vào {date}.",lastEditedByUser:"Chỉnh sửa lần cuối bởi {user} vào {date}.",lastCreatedByUser:"Tạo bởi {user} vào {date}."}},1867:function(e,t,r){e.exports={widgetLabel:"要素",attach:"附件",fields:"字段",fieldsSummary:"属性和值列表",media:"媒体",next:"下一页",noTitle:"无标题",previous:"上一页",lastEdited:"最后编辑于 {date}。",lastCreated:"创建于 {date}。",lastEditedByUser:"最后由 {user} 在 {date} 编辑。",lastCreatedByUser:"由 {user} 在 {date} 创建。"}},1868:function(e,t,r){e.exports={widgetLabel:"圖徽",attach:"附件",fields:"欄位",fieldsSummary:"屬性和值的清單",media:"媒體",next:"下一步",noTitle:"未命名",previous:"上一步",lastEdited:"上次編輯日期為 {date}。",lastCreated:"建立日期為 {date}。",lastEditedByUser:"上次編輯日期為 {date}，由 {user} 執行。",lastCreatedByUser:"由 {user} 在 {date} 建立。"}},1869:function(e,t,r){e.exports={widgetLabel:"圖徽",attach:"附件",fields:"欄位",fieldsSummary:"屬性和值的清單",media:"媒體",next:"下一步",noTitle:"未命名",previous:"上一步",lastEdited:"上次編輯日期為 {date}。",lastCreated:"建立日期為 {date}。",lastEditedByUser:"上次編輯日期為 {date}，由 {user} 執行。",lastCreatedByUser:"由 {user} 在 {date} 建立。"}},1870:function(e,t,r){e.exports={root:{widgetLabel:"Feature",attach:"Attachments",fields:"Fields",fieldsSummary:"List of attributes and values",media:"Media",next:"Next",noTitle:"Untitled",previous:"Previous",lastEdited:"Last edited on {date}.",lastCreated:"Created on {date}.",lastEditedByUser:"Last edited by {user} on {date}.",lastCreatedByUser:"Created by {user} on {date}."},ar:1,bs:1,ca:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,hr:1,hu:1,he:1,id:1,it:1,ja:1,ko:1,lv:1,lt:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sl:1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}},1871:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(35),r(31),r(32),r(77),r(278),r(36),r(82),r(38),r(37),r(34),r(124),r(547),r(56),r(30),r(279),r(337),r(65),r(497),r(675),r(315),r(213),r(798),r(1872),r(172)],void 0===(a=function(e,t,i,a,n,o,s,l,u,p,d,c,f,y,m,h,v,g,b,w,_,x,F,I,S,j,T,C){function A(){return s(this,void 0,void 0,function(){return o(this,function(e){return[2,y.create(function(e){Promise.all([r.e(8),r.e(20)]).then(function(){var t=[r(818)];(function(t){e(t)}).apply(null,t)}).catch(r.oe)})]})})}function k(e){return"string"==typeof e?e.replace(/(\n)/gi,'<br class="esri-text-new-line" />'):e}function R(e,t){return e&&"function"==typeof e.getField?e.getField(t):null}function E(e){return(""+e).trim()}function M(e){return e.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"})}var N=["$datastore","$map","$layer"],O=f.getLogger("esri.widgets.FeatureViewModel"),P=/^\s*expression\//i,U=b.convertDateFormatToIntlOptions("short-date-short-time");return function(e){function t(t){var r=e.call(this,t)||this;return r._handles=new d,r._featureAbortController=null,r._graphicChangedThrottled=h.throttle(r._graphicChanged,1,r),r._effectivePopupTemplate=null,r._contentResponse=null,r._graphic=null,r._fieldInfoMap=null,r.content=null,r.defaultPopupTemplateEnabled=!1,r.formattedAttributes=null,r.graphic=null,r.lastEditInfo=null,r.title="",r.view=null,r._handles.add(v.init(r,["graphic","graphic.sourceLayer.popupTemplate.title","graphic.sourceLayer.popupTemplate.content","graphic.sourceLayer.popupTemplate.fieldInfos","graphic.sourceLayer.popupTemplate.lastEditInfoEnabled","graphic.popupTemplate.title","graphic.popupTemplate.content","graphic.popupTemplate.fieldInfos","graphic.popupTemplate.lastEditInfoEnabled"],function(){return r._graphicChangedThrottled()})),r}return i(t,e),t.prototype.destroy=function(){this._clear(),this._cancelFeatureQuery(),this._handles.destroy(),this._handles=null,this.graphic=null,this._graphic=null},Object.defineProperty(t.prototype,"spatialReference",{get:function(){return this.get("view.spatialReference")||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this.get("view.map")||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waitingForContent",{get:function(){return!!this._featureAbortController},enumerable:!0,configurable:!0}),t.prototype._clear=function(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)},t.prototype._graphicChanged=function(){return s(this,void 0,void 0,function(){var e,t,r,i;return o(this,function(a){switch(a.label){case 0:if(this._cancelFeatureQuery(),this._clear(),e=this.graphic,t=e?e.clone():null,this._graphic=t,!t)return[2];r=y.createAbortController(),this._featureAbortController=r,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._queryFeature({signal:r.signal})];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),O.error("error","error loading template",i),[3,4];case 4:return this._featureAbortController=null,[2]}})})},t.prototype._cancelFeatureQuery=function(){var e=this._featureAbortController;e&&e.abort(),this._featureAbortController=null},t.prototype._compileContent=function(e,t){var r=this;return e&&(e.nodeName||e&&C.isWidgetBase(e)||C.isWidget(e))?e:this._graphic?"string"==typeof e?this._compileText(new x({text:e})).text:Array.isArray(e)?e.map(function(e,i){var a=t&&t[i],n=a&&a.value;return"attachments"===e.type?r._compileAttachments(e,n):"fields"===e.type?r._compileFields(e):"media"===e.type?r._compileMedia(e):"text"===e.type?r._compileText(e):void 0}):void(e&&O.warn("invalid content type.")):void 0},t.prototype._compileFields=function(e){var t=this,r=this._effectivePopupTemplate,i=c.clone(e),a=r&&r.expressionInfos,n=i.fieldInfos?void 0:r&&r.fieldInfos,o=i.fieldInfos||c.clone(n),s=[];return o&&o.forEach(function(e){var r=e.fieldName.toLowerCase();if(!e.hasOwnProperty("visible")||e.visible){var i=t._isExpressionField(r)?t._getExpressionInfo(a,r):null;e.label=i?i.title:e.label,s.push(e)}}),i.fieldInfos=s,i},t.prototype._setImageValue=function(e){var t=e.value,r=e.formattedAttributes,i=e.layer,a=t.linkURL,n=t.sourceURL;if(n){var o=this._fixTokens(n,i);t.sourceURL=this._substituteAttributes(r,o)}if(a){var s=this._fixTokens(a,i);t.linkURL=this._substituteAttributes(r,s)}},t.prototype._compileMedia=function(e){var t=this,r=this._graphic,i=c.clone(e),a=i.mediaInfos,o=r.attributes,s=j.getSourceLayer(r),l=this.formattedAttributes.global,u=n({},l,o);return i.mediaInfos=a&&a.map(function(e){var r=c.clone(e);if(r){var i=r.title?t._processFieldsInLinks(r.title,u):"",a=r.caption?t._processFieldsInLinks(r.caption,u):"";if(r.title=i?t._substituteAttributes(l,i):"",r.caption=a?t._substituteAttributes(l,a):"","image"===r.type){var n=r.value;return t._setImageValue({value:n,formattedAttributes:l,layer:s}),r.value.sourceURL?r:void 0}if("pie-chart"===r.type||"line-chart"===r.type||"column-chart"===r.type||"bar-chart"===r.type){n=r.value;return t._setChartValue({value:n,chartType:r.type,attributes:o,formattedAttributes:l,layer:s}),r}}}).filter(Boolean),i},t.prototype._normalizeTemplateFields=function(e){var t=this._fieldInfoMap.get(e.toLowerCase());return"{"+(t&&t.fieldName||e)+"}"},t.prototype._substituteAttributes=function(e,t){var r=this;return E(this._removeEmptyHref(u.substitute(m.replace(t,function(e){return r._normalizeTemplateFields(e)}),e)))},t.prototype._compileText=function(e){var t=c.clone(e);if(t&&t.text){var r=this._graphic.attributes,i=this.formattedAttributes.global,a=this._processFieldsInLinks(t.text,n({},i,r));t.text=this._substituteAttributes(i,a)}return t},t.prototype._formatEditInfo=function(e,t){var r=e.creatorField,i=e.creationDateField,a=e.editorField,n=e.editDateField;if(t){var o=t[n];if("number"==typeof o){var s=t[a];return{type:"edit",date:u.formatDate(o,U),user:s}}var l=t[i];if("number"==typeof l){var p=t[r];return{type:"create",date:u.formatDate(l,U),user:p}}}},t.prototype._compileLastEditInfo=function(){var e=this._effectivePopupTemplate,t=this._graphic;if(e){var r=e.lastEditInfoEnabled,i=t.get("sourceLayer.editFieldsInfo");if(r&&i)return this._formatEditInfo(i,t.attributes)}},t.prototype._compileTitle=function(){var e=this._effectivePopupTemplate,t=this._graphic,r=e&&e.title,i=t.attributes,a=this.formattedAttributes.global,o="function"==typeof r?r.call(null,{graphic:t}):r;if("string"==typeof o&&o){var s=this._processFieldsInLinks(o,n({},a,i));return this._substituteAttributes(a,s)}return""},t.prototype._getExpressionInfo=function(e,t){if(this._isExpressionField(t)){var r,i=t.replace(P,"").toLowerCase();return e.some(function(e){return e.name.toLowerCase()===i&&(r=e,!0)}),r}},t.prototype._fixTokens=function(e,t){return e.replace(/(\{([^\{\r\n]+)\})/g,function(e,r,i){var a=R(t,i);return a?"{"+a.name+"}":r})},t.prototype._encodeAttributes=function(e){var t=e?c.clone(e):{};return Object.keys(t).forEach(function(e){return function(e,t){var r=t[e];if("string"==typeof r){var i=encodeURIComponent(r).replace(/\'/g,"&apos;");t[e]=i}}(e,t)}),t},t.prototype._createfieldInfoMap=function(e,t){var r=this,i=new Map;return e&&e.forEach(function(e){var a=r._getFixedFieldName(e.fieldName,t);e.fieldName=a,i.set(a.toLowerCase(),e)}),i},t.prototype._formatAttributeValue=function(e){var t=e.value,r=e.fieldName,i=e.fieldInfos,a=e.fieldInfoMap,n=e.layer;if(null==t)return t;var o=this._getDomainName(r,t);if(o)return o;var s=this._getTypeName(r);if(s)return s;if(a.get(r.toLowerCase()))return this._formatValueToFieldInfo(t,{fieldInfos:i,fieldName:r,layer:n});var l=n&&n.fieldsIndex;return l&&l.isDateField(r)?u.formatDate(t,U):k(t)},t.prototype._formatAttributes=function(e){var t=this,r=this._graphic,i=j.getSourceLayer(r),a=c.clone(r.attributes);this.addRelatedFeatureAttributes(a);var n=this._createfieldInfoMap(e,i);return this._fieldInfoMap=n,Object.keys(a).forEach(function(r){var o=a[r];a[r]=t._formatAttributeValue({fieldName:r,fieldInfos:e,fieldInfoMap:n,layer:i,value:o})}),a},t.prototype._formatValueToFieldInfo=function(e,t){var r=t.fieldInfos,i=t.fieldName,a=this._getFieldInfo(r,i),o=c.clone(a),s=t.preventPlacesFormatting,l=R(t.layer,i);if(l&&"date"===l.type){var u=o.format||new I;u.dateFormat=u.dateFormat||"short-date-short-time",o.format=u}var p=o&&o.format;return"string"==typeof e||null==e||null==p?e:s?w.formatNumber(e,n({},w.convertNumberFormatToIntlOptions(p),{minimumFractionDigits:0,maximumFractionDigits:20})):p.format(e)},t.prototype._getDomainName=function(e,t){if(this.isRelatedField(e))return null;var r=this._graphic,i=j.getSourceLayer(r);if(!i||"function"!=typeof i.getFieldDomain)return null;var a=i.getFieldDomain(e,{feature:r});return a&&"coded-value"===a.type?a.getName(t):null},t.prototype._getFieldInfo=function(e,t){if(e&&e.length&&t){var r=t.toLowerCase(),i=void 0;return e.some(function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==r||(i=e,0))}),i}},t.prototype._getTypeName=function(e){if(this.isRelatedField(e))return null;var t=this._graphic,r=j.getSourceLayer(t);if(!r||"function"!=typeof r.getFeatureType)return null;var i=r.typeIdField;if(!i||e!==i)return null;var a=r.getFeatureType(t);return a?a.name:null},t.prototype._removeEmptyHref=function(e){return e.replace(/href=(""|'')/gi,"")},t.prototype._processFieldsInLinks=function(e,t){var r=this.get("_graphic.layer"),i=this._fixTokens(e,r),a=this._encodeAttributes(t);return i?i.replace(/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,function(e,r,i){return function(e,t,r,i){return t=E(t),u.substitute(e,t&&"{"===t[0]?r:i)}(e,r||i,t,a)}):i},t.prototype._compileAttachments=function(e,t){var r=c.clone(e);return!t||t&&0===t.length?r:(r.attachmentInfos=t,r)},t.prototype._queryAttachments=function(){var e=this._graphic,t=j.getSourceLayer(e);if(!t)return y.resolve([]);var r="scene"===t.type&&t.associatedLayer?t.associatedLayer:t;if(r&&"function"==typeof r.queryAttachments){var i=r,a=i.objectIdField,n=e.attributes,o=n&&n[a],s=new S({objectIds:[o],returnMetadata:!0});return i.queryAttachments(s).then(function(e){return e[o]||[]})}return y.resolve([])},t.prototype._queryContentElements=function(e){var t=this;if(!Array.isArray(e))return y.resolve();var r={};return e.forEach(function(e,i){if("attachments"===e.type){var a=t._queryAttachments();a&&(r[i]=a)}}),Object.keys(r).length?y.eachAlways(r):y.resolve()},t.prototype._getContent=function(){var e=this._effectivePopupTemplate,t=this._graphic,r=e&&e.content,i="function"==typeof r?r.call(null,{graphic:t}):r;return y.isPromiseLike(i)?i:y.resolve(i)},t.prototype._querySourceLayer=function(e,t){var r=e.layer,i=e.outFields,a=e.objectIds;if("function"!=typeof r.queryFeatures||!a){var n="Could not query required fields for the specified layer. Some fields will not be available.",o=new p("query-required-fields",n,{outFields:i,objectIds:a});return O.warn("query-required-fields",n),y.reject(o)}var s=r.createQuery();return s.objectIds=a,s.outFields=i,s.returnGeometry=!0,r.queryFeatures(s,t).then(function(e){return e.features[0]})},t.prototype._queryRequiredFieldsFeature=function(e){var t=this,r=this._graphic,i=this._effectivePopupTemplate,a=r.sourceLayer;return a&&i?("function"==typeof a.load?a.load(e):y.resolve()).then(function(){var n=r.attributes[a.objectIdField],o="number"==typeof n?[n]:void 0;return i.getRequiredFields(a.fields).then(function(i){return _.featureHasFields(i,r)?null:t._querySourceLayer({layer:a,outFields:i,objectIds:o},e)})}):y.resolve(null)},t.prototype._queryFeature=function(e){var t=this,r=this._featureAbortController,i=this._graphic;return this._effectivePopupTemplate=i&&i.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled),this._getContent().then(function(a){if(r===t._featureAbortController&&i){var o=t._checkForRelatedFeatures(a,e),s=t._createFormattedExpressions().then(function(e){i.attributes=n({},i.attributes,e)}),l=t._queryContentElements(a).then(function(e){return t._contentResponse=e}),u=t._queryRequiredFieldsFeature(e).then(function(e){e&&(i.geometry=e.geometry,i.attributes=n({},i.attributes,e.attributes))});return y.eachAlways([o,s,l,u]).then(function(){if(r===t._featureAbortController&&i){t._set("formattedAttributes",t._createFormattedAttributes(a)),t._set("title",t._compileTitle());var e=t._compileLastEditInfo();t._set("lastEditInfo",e||null);var n=t._compileContent(a,t._contentResponse);return t._set("content",n||null),n}})}})},t.prototype._isExpressionField=function(e){return P.test(e)},t.prototype._formatArcadeArray=function(e){return'<ul class="esri-widget__list">'+e.map(function(e){return"<li>"+("string"==typeof e?k(M(e)):e)+"</li>"}).join("")+"</ul>"},t.prototype._formatArcadeDictionary=function(e){return'<table class="esri-widget__table">'+e.keys().map(function(t){var r=e.field(t);return"<tr><th>"+t+"</th><td>"+("string"==typeof r?k(M(r)):r)+"</td></tr>"}).join("")+"</table>"},t.prototype._createFormattedExpressions=function(){return s(this,void 0,void 0,function(){var e,t,r,i,a,n,l,u,p,d,c,f=this;return o(this,function(m){switch(m.label){case 0:return t=(e=this)._effectivePopupTemplate,r=e._graphic,i=t&&t.expressionInfos,a=[],n={},i&&i.length?[4,A()]:[2,n];case 1:for(l=m.sent(),u=function(e){var t="expression/"+e.name,i=l.createSyntaxTree(e.expression),u=N.filter(function(e){return l.hasVariable(i,e)}),p=l.loadScriptDependencies(i,!0,u).then(function(){return s(f,void 0,void 0,function(){var e,a,s,p,d=this;return o(this,function(o){return e=this.spatialReference,a=l.getViewInfo({spatialReference:e}),(s=l.createExecContext(r,a)).useAsync=!0,this._addVarsToContext(l,u,s,a),p=l.createFunction(i,s),[2,l.executeAsyncFunction(p,s).then(function(e){n[t]="string"==typeof e?k(M(e)):Array.isArray(e)?d._formatArcadeArray(e):e&&"esri.arcade.Dictionary"===e.declaredClass?d._formatArcadeDictionary(e):e},function(e){return O.error("arcade-execution-error",e)})]})})});a.push(p)},p=0,d=i;p<d.length;p++)c=d[p],u(c);return[2,y.eachAlways(a).then(function(){return n})]}})})},t.prototype._addVarsToContext=function(e,t,r,i){var a=this.graphic,n=this.map;t.forEach(function(t){var o=t.toLowerCase(),s={map:n,spatialReference:i.sr};"$map"===o&&(r.vars[o]=e.convertMapToFeatureSetCollection(s)),"$layer"===o&&(r.vars[o]=e.convertFeatureLayerToFeatureSet(a.sourceLayer,i.sr)),"$datastore"===o&&(r.vars[o]=e.convertServiceUrlToWorkspace(a.sourceLayer.url,i.sr))})},t.prototype._createFormattedAttributes=function(e){var t=this,r=this._effectivePopupTemplate,i=r&&r.fieldInfos,a={global:this._formatAttributes(i),content:[]};return Array.isArray(e)&&e.forEach(function(e,r){"fields"===e.type&&e.fieldInfos&&(a.content[r]=t._formatAttributes(e.fieldInfos))}),a},t.prototype._getAllFieldInfos=function(e){var t=this._effectivePopupTemplate,r=[],i=t&&t.fieldInfos;return i&&r.push.apply(r,i),e&&Array.isArray(e)?(e.forEach(function(e){if("fields"===e.type){var t=e&&e.fieldInfos;r.push.apply(r,t)}}),r):r},t.prototype._checkForRelatedFeatures=function(e,t){var r=this._graphic,i=this._getAllFieldInfos(e);return this.queryRelatedInfos(r,i,t)},t.prototype._getTooltip=function(e){var t=e.label,r=e.value;return"pie-chart"===e.chartType?t:t+":\n"+r},t.prototype._getChartOption=function(e){var t=e.value,r=e.attributes,i=e.formattedAttributes,a=e.fieldName,n=e.relatedFieldName,o=e.fieldInfos,s=e.chartType,l=e.index,u=this._graphic,p=j.getSourceLayer(u),d=t.normalizeField,c=t.tooltipField,f=d?this.isRelatedField(d)?r[this.getRelatedFieldInfo(d).fieldName]:r[d]:null,y=n&&void 0!==r[n]?r[n]:void 0!==r[a]?r[a]:i[a],m=void 0===y?null:y&&f?y/f:y,h=new F({x:l,y:m});if(this.isRelatedField(a)){var v=this.getRelatedFieldInfo(a),g=this.getRelatedFieldInfo(c),b=g?g.fieldName:null,w=this._formatValueToFieldInfo(m,{fieldInfos:o,fieldName:n,layer:p,preventPlacesFormatting:!!f}),_=v?v.label||v.fieldName:n,x=b&&void 0!==r[b]?r[b]:_;return h.tooltip=this._getTooltip({label:x,chartType:s,value:w}),h}var I=this._getFieldInfo(o,a),S=this._getFixedFieldName(a,p),T=I?I.label||I.fieldName:a,C=c&&void 0!==i[c]?i[c]:T,A=i[S];return h.tooltip=this._getTooltip({label:C,chartType:s,value:A}),h},t.prototype._getFixedFieldName=function(e,t){var r=R(t,e);return r?r.name:e},t.prototype._getFixedFieldNames=function(e,t){var r=this;return e&&e.map(function(e){return r._getFixedFieldName(e,t)})},t.prototype._setChartValue=function(e){var t=this,r=e.value,i=e.attributes,a=e.formattedAttributes,n=e.chartType,o=e.layer,s=this._effectivePopupTemplate,l=this.relatedInfoCount,u=r.fields,p=r.normalizeField;if(r.fields=this._getFixedFieldNames(u,o),p&&(r.normalizeField=this._getFixedFieldName(p,o)),u.some(function(e){return!!(null!=a[e]||t.isRelatedField(e)&&l)})){var d=s&&s.fieldInfos;u.forEach(function(e,o){if(t.isRelatedField(e))r.series=r.series.concat(t._getRelatedChartInfos({fieldInfos:d,fieldName:e,formattedAttributes:a,chartType:n,value:r}));else{var s=t._getChartOption({value:r,index:o,attributes:i,chartType:n,formattedAttributes:a,fieldName:e,fieldInfos:d});r.series.push(s)}})}},t.prototype._getRelatedChartInfos=function(e){var t=this,r=e.fieldInfos,i=e.fieldName,a=e.formattedAttributes,n=e.chartType,o=e.value,s=[],l=this.getRelatedFieldInfo(i),u=l.layerId,p=l.fieldName,d=this.getRelatedInfo(u);if(!d)return s;var c=d.relatedFeatures,f=d.relation;if(!f||!c)return s;var y=f.cardinality;return c.forEach(function(e,l){var u=e.attributes;u&&Object.keys(u).forEach(function(e){e===p&&s.push(t._getChartOption({value:o,index:l,attributes:u,formattedAttributes:a,fieldName:i,chartType:n,relatedFieldName:e,fieldInfos:r}))})}),"one-to-many"===y||"many-to-many"===y?s:[s[0]]},a([g.property()],t.prototype,"_featureAbortController",void 0),a([g.property({readOnly:!0})],t.prototype,"content",void 0),a([g.property({type:Boolean})],t.prototype,"defaultPopupTemplateEnabled",void 0),a([g.property({readOnly:!0})],t.prototype,"formattedAttributes",void 0),a([g.property({type:l})],t.prototype,"graphic",void 0),a([g.property({readOnly:!0})],t.prototype,"lastEditInfo",void 0),a([g.property({dependsOn:["view"]})],t.prototype,"spatialReference",null),a([g.property({readOnly:!0})],t.prototype,"title",void 0),a([g.property({dependsOn:["view"]})],t.prototype,"map",null),a([g.property({readOnly:!0,dependsOn:["_featureAbortController"]})],t.prototype,"waitingForContent",null),a([g.property()],t.prototype,"view",void 0),a([g.subclass("esri.widgets.FeatureViewModel")],t)}(g.declared(T))}.apply(null,i))||(e.exports=a)},1872:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(44),r(47),r(36),r(37),r(34),r(30),r(211),r(74),r(93),r(798)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c,f){var y=new Map,m="esri.widgets.Popup.support.RelatedFeatures",h=s.getLogger(m);return function(e){function t(t){var r=e.call(this,t)||this;return r.relatedInfoCount=null,r.relatedInfos=new Map,r}return r(t,e),t.prototype.destroy=function(){this.relatedInfos.clear()},t.prototype.addRelatedFeatureAttributes=function(e){var t=this;this.relatedInfos.forEach(function(r){return t._addRelatedFeatureAttribute(e,r)})},t.prototype.getRelatedFieldInfo=function(e){if(-1===e.indexOf("relationships/"))return null;var t=e.split("/").slice(1);return{layerId:t[0],fieldName:t[1]}},t.prototype.getRelatedInfo=function(e){return this.relatedInfos.get(e.toString())},t.prototype.isRelatedField=function(e){return void 0===e&&(e=""),!!e&&-1!==e.indexOf("relationships/")},t.prototype.queryRelatedInfos=function(e,t,r){var i=this;this.relatedInfos.clear();var a=f.getSourceLayer(e);if(!a)return l.resolve();var n=t.filter(function(e){return e&&i.isRelatedField(e.fieldName)});return n&&n.length?(this._createRelatedInfos(t,a),this._queryLayerInfos(a,r).then(function(t){return i._updateRelatedInfoLayerInfos(t),i._queryRelatedFeatureMap(e,r).then(function(e){return Object.keys(e).forEach(function(t){i._setRelatedFeatures(e[t],t.toString())}),e})})):l.resolve()},t.prototype._addRelatedFeatureAttribute=function(e,t){var r=this;e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(function(i){return r._addAttributesFromFeature(e,i,t)}),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(function(i){return r._addAttributesFromFeature(e,i,t)}))},t.prototype._updateRelatedInfoLayerInfo=function(e,t){var r=e.value;r&&(this.getRelatedInfo(t).layerInfo=r.data)},t.prototype._updateRelatedInfoLayerInfos=function(e){var t=this;Object.keys(e).forEach(function(r){return t._updateRelatedInfoLayerInfo(e[r],r.toString())})},t.prototype._addAttributesFromFeature=function(e,t,r){var i=this;e&&t&&r&&Object.keys(t.attributes).forEach(function(a){var n=i._relatedFieldInfoToString({layerId:r.relation.id.toString(),fieldName:a});e[n]=t.attributes[a]})},t.prototype._relatedFieldInfoToString=function(e){return e?"relationships/"+e.layerId+"/"+e.fieldName:""},t.prototype._createRelatedInfoForFieldInfo=function(e,t){var r=this.getRelatedFieldInfo(e.fieldName);if(r){var i=r.layerId,a=r.fieldName;if(i){var n=this.getRelatedInfo(i)||this._createRelatedInfo(i,t);if(n&&(n.relatedFields.push(a),e.statisticType)){var o=new c({statisticType:e.statisticType,onStatisticField:a,outStatisticFieldName:a});n.outStatistics.push(o)}}}},t.prototype._createRelatedInfos=function(e,t){var r=this;e.forEach(function(e){return r._createRelatedInfoForFieldInfo(e,t)})},t.prototype._queryRelatedFeatureMap=function(e,t){var r=this,i={};return this.relatedInfos.forEach(function(a,n){a.layerInfo&&(i[n]=r._queryRelatedLayerFeatures(e,a,t))}),l.eachAlways(i)},t.prototype._queryLayerInfos=function(e,t){var r=this,i={};return this.relatedInfos.forEach(function(a,n){var s=a.relation;if(!s){var l=new o("relation-required","A relation is required on a layer to retrieve related records.");throw h.error(l),l}var u=s.relatedTableId;if(!u){l=new o("A related table ID is required on a layer to retrieve related records.");throw h.error(l),l}var p=e.url+"/"+u,d=y.get(p),c=d||r._queryLayerInfo(p,t);d||y.set(p,c),i[n]=c}),l.eachAlways(i)},t.prototype._queryLayerInfo=function(e,t){return a(e,{query:{f:"json"},signal:t&&t.signal})},t.prototype._queryRelatedLayerFeatures=function(e,t,r){var i=f.getSourceLayer(e).layerId.toString(),a=t.layerInfo,n=t.queryTask,o=t.relation,s=this._getDestinationRelation(a,i);if(s){var u=o.keyField,p=s.keyField,c="string"===this._getDestinationFieldType(a,s)?p+"='"+e.attributes[u]+"'":p+"="+e.attributes[u],y=n.execute(new d({where:c,outFields:t.relatedFields}),r),m=t.outStatistics&&t.outStatistics.length>0&&a.supportsStatistics?n.execute(new d({where:c,outFields:t.relatedFields,outStatistics:t.outStatistics}),r):null;return l.eachAlways({features:y,statsFeatures:m||l.resolve()})}return l.resolve()},t.prototype._setRelatedFeatures=function(e,t){var r=this.getRelatedInfo(t);if(r){var i=e.value;if(i){var a=i.features,n=i.statsFeatures,o=a&&a.value;r.relatedFeatures=o?o.features:[];var s=n&&n.value;r.relatedStatsFeatures=s?s.features:[]}}},t.prototype._getRelation=function(e,t){if(!t.relationships)return null;var r=null;return t.relationships.some(function(t){return t.id===parseInt(e,10)&&(r=t,!0)}),r},t.prototype._createRelatedInfo=function(e,t){var r=this._getRelation(e,t);if(r){var i=t.url+"/"+r.relatedTableId,a={url:i,queryTask:new p({url:i}),relation:r,relatedFields:[],outStatistics:[]};return this.relatedInfos.set(e,a),a}},t.prototype._getDestinationRelation=function(e,t){var r;return e&&e.relationships&&e.relationships.some(function(e){return""+e.relatedTableId===t&&(r=e,!0)}),r},t.prototype._getDestinationFieldType=function(e,t){var r=void 0;return e.fields.some(function(e){return e.name===t.keyField&&(r=-1!==["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(e.type)?"number":"string",!0)}),r},i([u.aliasOf("relatedInfos.size")],t.prototype,"relatedInfoCount",void 0),i([u.property()],t.prototype,"relatedInfos",void 0),i([u.subclass(m)],t)}(u.declared(n))}.apply(null,i))||(e.exports=a)},1873:function(e,t,r){var i,a;i=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=e.toUrl("../../../themes/base/images/files/");t.isSupportedImage=function(e){var t=e.toLowerCase();return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t},t.getIconPath=function(e){return e?"text/plain"===e?r+"text-32.svg":"application/pdf"===e?r+"pdf-32.svg":"text/csv"===e?r+"csv-32.svg":"application/gpx+xml"===e?r+"gpx-32.svg":"application/x-dwf"===e?r+"cad-32.svg":"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?r+"code-32.svg":"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?r+"zip-32.svg":-1!==e.indexOf("image/")?r+"image-32.svg":-1!==e.indexOf("audio/")?r+"sound-32.svg":-1!==e.indexOf("video/")?r+"video-32.svg":-1!==e.indexOf("msexcel")||-1!==e.indexOf("ms-excel")||-1!==e.indexOf("spreadsheetml")?r+"excel-32.svg":-1!==e.indexOf("msword")||-1!==e.indexOf("ms-word")||-1!==e.indexOf("wordprocessingml")?r+"word-32.svg":-1!==e.indexOf("powerpoint")||-1!==e.indexOf("presentationml")?r+"report-32.svg":r+"generic-32.svg":r+"generic-32.svg"}}.apply(null,i))||(e.exports=a)},1874:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(31),r(32),r(60),r(6)],void 0===(a=function(e,t,i,a,n){function o(){var e=n.locale;return e&&(t.locales[e]||function(e){for(var r=e.split("-")[0].toLowerCase(),i=null,a=0,n=Object.keys(t.locales);a<n.length;a++){var o=n[a];if(o.indexOf(r)>-1){i=t.locales[o];break}}return i}(e))||u}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u="en_US";t.locales={ar:"ar","bs-ba":"bs_BA","ca-es":"ca_ES","cs-cz":"cs_CZ","da-dk":"da_DK","de-ch":"de_CH","de-de":"de_DE","el-gr":"el_GR","en-ca":"en_CA","en-us":"en_US","es-es":"es_ES","et-ee":"et_EE","fi-fi":"fi_FI","fr-fr":"fr_FR","he-il":"he_IL","hr-hr":"hr_HR","hu-hu":"hu_HU","id-id":"id_ID","it-it":"it_IT","ja-jp":"ja_JP","ko-kr":"ko_KR","lt-lt":"lt_LT","lv-lv":"lv_LV","nb-no":"nb_NO","nl-nl":"nl_NL","pl-pl":"pl_PL","pt-br":"pt_BR","pt-pt":"pt_PT","ro-ro":"ro_RO","ru-ru":"ru_RU","sl-sl":"sl_SL","sr-rs":"sr_RS","sv-se":"sv_SE","th-th":"th_TH","tr-tr":"tr_TR","uk-ua":"uk_UA","vi-vn":"vi_VN","zh-cn":"zh_Hans","zh-hk":"zh_Hant","zh-tw":"zh_Hant"},t.getChartLocale=o,t.loadChartsModule=function(e){return void 0===e&&(e=o()),a(this,void 0,void 0,function(){var t=this;return i(this,function(n){return s&&e===l?[2,s]:(l=e,[2,s=Promise.all([new Promise(function(e,t){r.e(121).then(function(){var t=[r(2301)];e.apply(null,t)}.bind(this)).catch(t.bind(this))}),new Promise(function(t,i){Promise.all([r.e(45),r.e(122)]).then(function(){var i=[r(2302)("./"+e)];t.apply(null,i)}.bind(this)).catch(i.bind(this))})]).then(function(n){var o=n[0],s=n[1];return a(t,void 0,void 0,function(){var t,a;return i(this,function(i){switch(i.label){case 0:return t=o.am4core,l===e&&(t.options.defaultLocale=s.default),"function"==typeof Object.assign?[3,2]:[4,new Promise(function(e,t){r.e(126).then(function(){var t=[r(2303)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})];case 1:a=i.sent(),Object.defineProperty(Object,"assign",{value:a.assign,writable:!0,configurable:!0}),i.label=2;case 2:return[2,o]}})})},function(){return l=s=null,null})])})})}}.apply(null,i))||(e.exports=a)},1875:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(1876),r(124)],void 0===(a=function(e,t,r,i){function a(e){var t=null;return n.some(function(r){return r.pattern.test(e)&&(t=r),!!t}),t}Object.defineProperty(t,"__esModule",{value:!0});var n=[{id:"http",pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:r.view},{id:"tel",pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{id:"mailto",pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{id:"arcgis-appstudio-player",pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"App Studio Player"},{id:"arcgis-collector",pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Collector"},{id:"arcgis-explorer",pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Explorer"},{id:"arcgis-navigator",pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Navigator"},{id:"arcgis-survey123",pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Survey123"},{id:"arcgis-trek2there",pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Trek2There"},{id:"arcgis-workforce",pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:r.workforce},{id:"iform",pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"iForm"},{id:"flow",pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"FlowFinity"},{id:"lfmobile",pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Laserfische"},{id:"mspbi",pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:r.openInApp,appName:"Microsoft Power Bi"}];t.autoLink=function(e){if("string"!=typeof e||!e)return e;var t=a(e);if(!t)return e;var r=e.match(t.pattern),n=r&&r[2],o=i.replace(t.label,{appName:t.appName,hierPart:n}),s=t.target?'target="'+t.target+'"':"",l="_blank"===t.target?'rel="noreferrer"':"";return e.replace(t.pattern,"<a "+s+' href="$1" '+l+">"+o+"</a>")}}.apply(null,i))||(e.exports=a)},1876:function(e,t,r){var i,a;i=[r(156),r(177),r(1877),r(1878),r(1879),r(1880),r(1881),r(1882),r(1883),r(1884),r(1885),r(1886),r(1887),r(1888),r(1889),r(1890),r(1891),r(1892),r(1893),r(1894),r(1895),r(1896),r(1897),r(1898),r(1899),r(1900),r(1901),r(1902),r(1903),r(1904),r(1905),r(1906),r(1907),r(1908),r(1909),r(1910),r(1911),r(1912),r(1913),r(1914)],void 0===(a=function(e,t){return t(e,"esri/widgets/support/nls/uriUtils",r.dj.c(),!1)}.apply(null,i))||(e.exports=a)},1877:function(e,t,r){e.exports={openInApp:"فتح في {appName}",view:"عرض"}},1878:function(e,t,r){e.exports={openInApp:"Otvorite uz appun {appName}",view:"Prikaz"}},1879:function(e,t,r){e.exports={openInApp:"Obre-ho al {appName}",view:"Visualitza"}},1880:function(e,t,r){e.exports={openInApp:"Otevřít v {appName}",view:"Zobrazit"}},1881:function(e,t,r){e.exports={openInApp:"Åbn i {appName}",view:"Vis"}},1882:function(e,t,r){e.exports={openInApp:"In {appName} öffnen",view:"Anzeigen"}},1883:function(e,t,r){e.exports={openInApp:"Άνοιγμα σε {appName}",view:"Προβολή"}},1884:function(e,t,r){e.exports={openInApp:"Abrir en {appName}",view:"Ver"}},1885:function(e,t,r){e.exports={openInApp:"Ava rakenduses {appName}",view:"Vaatamine"}},1886:function(e,t,r){e.exports={openInApp:"Avaa sovelluksessa {appName}",view:"Näytä"}},1887:function(e,t,r){e.exports={openInApp:"Ouvrir dans {appName}",view:"Vue"}},1888:function(e,t,r){e.exports={openInApp:"פתח ב-{appName}",view:"תצוגה"}},1889:function(e,t,r){e.exports={openInApp:"Otvorite uz appun {appName}",view:"Prikaz"}},1890:function(e,t,r){e.exports={openInApp:"Megnyitás a(z) {appName} alkalmazásban",view:"Megtekintés"}},1891:function(e,t,r){e.exports={openInApp:"Buka di {appName}",view:"Tampilan"}},1892:function(e,t,r){e.exports={openInApp:"Apri in {appName}",view:"Visualizzazione"}},1893:function(e,t,r){e.exports={openInApp:"{appName} で開く",view:"表示"}},1894:function(e,t,r){e.exports={openInApp:"{appName}에서 열기",view:"보기"}},1895:function(e,t,r){e.exports={openInApp:"Atvērt lietotnē {appName}",view:"Skatīt"}},1896:function(e,t,r){e.exports={openInApp:"Atverti naudojant {appName}",view:"Peržiūrėti"}},1897:function(e,t,r){e.exports={openInApp:"Openen in {appName}",view:"Weergeven"}},1898:function(e,t,r){e.exports={openInApp:"Åpne i {appName}",view:"Vis"}},1899:function(e,t,r){e.exports={openInApp:"Otwórz za pomocą {appName}",view:"Wyświetl"}},1900:function(e,t,r){e.exports={openInApp:"Abrir no {appName}",view:"Visualizar"}},1901:function(e,t,r){e.exports={openInApp:"Abrir em {appName}",view:"Visualização"}},1902:function(e,t,r){e.exports={openInApp:"Deschideți în {appName}",view:"Vizualizare"}},1903:function(e,t,r){e.exports={openInApp:"Открыыть в {appName}",view:"Просмотр"}},1904:function(e,t,r){e.exports={openInApp:"Odpri v {appName}",view:"Pogled"}},1905:function(e,t,r){e.exports={openInApp:"Otvori u {appName}",view:"Prikaži"}},1906:function(e,t,r){e.exports={openInApp:"Öppna i {appName}",view:"Visa"}},1907:function(e,t,r){e.exports={openInApp:"เปิดใน {appName}",view:"วิว"}},1908:function(e,t,r){e.exports={openInApp:"{appName} uygulamasında aç",view:"Görüntüle"}},1909:function(e,t,r){e.exports={openInApp:"Відкрити в {appName}",view:"Вид"}},1910:function(e,t,r){e.exports={openInApp:"Mở bằng {appName}",view:"Xem"}},1911:function(e,t,r){e.exports={openInApp:"在 {appName} 中打开",view:"查看"}},1912:function(e,t,r){e.exports={openInApp:"在 {appName} 中開啟",view:"視圖"}},1913:function(e,t,r){e.exports={openInApp:"在 {appName} 中開啟",view:"視圖"}},1914:function(e,t,r){e.exports={root:{openInApp:"Open in {appName}",view:"View"},ar:1,bs:1,ca:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lv:1,lt:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sl:1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}},198:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(35),r(44),r(39),r(283),r(117)],void 0===(a=function(e,t,r,i,a,n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.processAttachmentQueryResult=function(e,t){for(var r={},i=0,o=e;i<o.length;i++)for(var s=o[i],l=s.parentObjectId,u=s.parentGlobalId,p=0,d=s.attachmentInfos;p<d.length;p++){var c=d[p],f=c.id,y=a.addProxy(a.addTokenParameter(t+"/"+l+"/attachments/"+f)),m=n.fromJSON(c);m.set({url:y,parentObjectId:l,parentGlobalId:u}),r[l]?r[l].push(m):r[l]=[m]}return r},t.executeAttachmentQuery=function(e,t,a){var n={query:o.mapParameters(r({},e.query,{f:"json"},function(e){var t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}(t)))};return a&&(n=r({},a,n)),i(e.path+"/queryAttachments",n)}}.apply(null,i))||(e.exports=a)},211:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(83),r(35),r(42),r(30),r(140),r(171),r(198),r(212),r(213),r(100),r(74),r(214)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c,f,y,m){return function(e){function t(t){var r=e.call(this,t)||this;return r.gdbVersion=null,r.source=null,r}return r(t,e),t.prototype.execute=function(e,t){return this.executeJSON(e,t).then(function(e){return f.fromJSON(e)})},t.prototype.executeJSON=function(e,t){return u.executeQuery(this.parsedUrl,this._normalizeQuery(e),n({},this.requestOptions,t)).then(function(e){return e.data})},t.prototype.executeForCount=function(e,t){return u.executeQueryForCount(this.parsedUrl,this._normalizeQuery(e),n({},this.requestOptions,t)).then(function(e){return e.data.count})},t.prototype.executeForExtent=function(e,t){return u.executeQueryForExtent(this.parsedUrl,this._normalizeQuery(e),n({},this.requestOptions,t)).then(function(e){return{count:e.data.count,extent:o.Extent.fromJSON(e.data.extent)}})},t.prototype.executeForIds=function(e,t){return u.executeQueryForIds(this.parsedUrl,this._normalizeQuery(e),n({},this.requestOptions,t)).then(function(e){return e.data.objectIds})},t.prototype.executeRelationshipQuery=function(e,t){return e=m.from(e),(this.gdbVersion||this.source)&&(e=e.clone().set({gdbVersion:this.gdbVersion||e.gdbVersion,source:this.source||e.source})),d.executeRelationshipQuery(this.parsedUrl,e,n({},this.requestOptions,t)).then(function(e){var t=e.data,r={};return Object.keys(t).forEach(function(e){return r[e]=f.fromJSON(t[e])}),r})},t.prototype.executeAttachmentQuery=function(e,t){var r=this;return p.executeAttachmentQuery(this.parsedUrl,c.from(e),n({},this.requestOptions,t)).then(function(e){return p.processAttachmentQueryResult(e.data.attachmentGroups,r.parsedUrl.path)})},t.prototype._normalizeQuery=function(e){var t=y.from(e);return this.gdbVersion||this.source?(t===e?t.clone():t).set({gdbVersion:this.gdbVersion||e.gdbVersion,source:this.source||e.source}):t},i([s.property()],t.prototype,"gdbVersion",void 0),i([s.property()],t.prototype,"source",void 0),i([s.subclass("esri.tasks.QueryTask")],t)}(s.declared(l))}.apply(null,i))||(e.exports=a)},212:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(35),r(44),r(117)],void 0===(a=function(e,t,r,i,a){function n(e){var t=e.toJSON();return t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.outFields&&(t.outFields=t.outFields.join(",")),t.outSpatialReference&&(t.outSR=t.outSR.wkid||JSON.stringify(t.outSR.toJSON()),delete t.outSpatialReference),t.source&&(t.layer=JSON.stringify({source:t.source}),delete t.source),t}Object.defineProperty(t,"__esModule",{value:!0}),t.toQueryStringParameters=n,t.executeRelationshipQuery=function(e,t,o){var s={query:a.mapParameters(r({},e.query,{f:"json"},n(t)))};return o&&(s=r({},o,s)),i(e.path+"/queryRelatedRecords",s).then(function(e){for(var t=e.data,r=t.geometryType,i=t.spatialReference,a={},n=0,o=t.relatedRecordGroups;n<o.length;n++){var s=o[n],l={fields:void 0,objectIdFieldName:void 0,geometryType:r,spatialReference:i,features:s.relatedRecords};if(null!=s.objectId)a[s.objectId]=l;else for(var u in s)s.hasOwnProperty(u)&&"relatedRecords"!==u&&(a[s[u]]=l)}return e.data=a,e})}}.apply(null,i))||(e.exports=a)},213:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(33),r(38),r(30),r(48)],void 0===(a=function(e,t,r,i,a,n,o,s){var l=function(e){function t(t){var r=e.call(this,t)||this;return r.attachmentTypes=null,r.attachmentsWhere=null,r.keywords=null,r.globalIds=null,r.name=null,r.num=null,r.objectIds=null,r.returnMetadata=!1,r.size=null,r.start=null,r.where=null,r}var a;return r(t,e),a=t,t.prototype.writeStart=function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10},t.prototype.clone=function(){return new a(n.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))},i([o.property({type:[String],json:{write:!0}})],t.prototype,"attachmentTypes",void 0),i([o.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],t.prototype,"attachmentsWhere",void 0),i([o.property({type:[String],json:{write:!0}})],t.prototype,"keywords",void 0),i([o.property({type:[Number],json:{write:!0}})],t.prototype,"globalIds",void 0),i([o.property({json:{write:!0}})],t.prototype,"name",void 0),i([o.property({type:Number,json:{read:{source:"resultRecordCount"}}})],t.prototype,"num",void 0),i([o.property({type:[Number],json:{write:!0}})],t.prototype,"objectIds",void 0),i([o.property({type:Boolean,json:{default:!1,write:!0}})],t.prototype,"returnMetadata",void 0),i([o.property({type:[Number],json:{write:!0}})],t.prototype,"size",void 0),i([o.property({type:Number,json:{read:{source:"resultOffset"}}})],t.prototype,"start",void 0),i([o.writer("start"),o.writer("num")],t.prototype,"writeStart",null),i([o.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],t.prototype,"where",void 0),a=i([o.subclass("esri.tasks.support.AttachmentQuery")],t)}(o.declared(a.JSONSupport));return l.from=s.default(l),l}.apply(null,i))||(e.exports=a)},214:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(42),r(33),r(38),r(30),r(48)],void 0===(a=function(e,t,r,i,a,n,o,s,l){var u=function(e){function t(t){var r=e.call(this,t)||this;return r.gdbVersion=null,r.geometryPrecision=void 0,r.historicMoment=null,r.maxAllowableOffset=void 0,r.objectIds=null,r.outFields=null,r.outSpatialReference=null,r.relationshipId=void 0,r.returnGeometry=!1,r.source=null,r.where=null,r}var n;return r(t,e),n=t,t.prototype._writeHistoricMoment=function(e,t){t.historicMoment=e&&e.getTime()},t.prototype.clone=function(){return new n(o.clone({gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&this.historicMoment.getTime(),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,source:this.source,where:this.where}))},i([s.property({type:String,json:{write:!0}})],t.prototype,"gdbVersion",void 0),i([s.property({type:Number,json:{write:!0}})],t.prototype,"geometryPrecision",void 0),i([s.property({type:Date})],t.prototype,"historicMoment",void 0),i([s.writer("historicMoment")],t.prototype,"_writeHistoricMoment",null),i([s.property({type:Number,json:{write:!0}})],t.prototype,"maxAllowableOffset",void 0),i([s.property({type:[Number],json:{write:!0}})],t.prototype,"objectIds",void 0),i([s.property({type:[String],json:{write:!0}})],t.prototype,"outFields",void 0),i([s.property({type:a.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],t.prototype,"outSpatialReference",void 0),i([s.property({json:{write:!0}})],t.prototype,"relationshipId",void 0),i([s.property({json:{write:!0}})],t.prototype,"returnGeometry",void 0),i([s.property({json:{write:!0}})],t.prototype,"source",void 0),i([s.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],t.prototype,"where",void 0),n=i([s.subclass("esri.tasks.support.RelationshipQuery")],t)}(s.declared(n.JSONSupport));return u.from=l.default(u),u}.apply(null,i))||(e.exports=a)},547:function(e,t,r){var i,a;i=[r.dj.c(e.i),t],void 0===(a=function(e,t){function r(e,t,r,i){var a=null,n=1e3;"number"==typeof t?(n=t,i=r):(a=t,n=r);var o,s=0,l=function(){s=0,e.apply(i,o)},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&a.apply(i,e),o=e,n?s||(s=setTimeout(l,n)):l()};return u.remove=function(){s&&(clearTimeout(s),s=0)},u.forceUpdate=function(){s&&(clearTimeout(s),l())},u.hasPendingUpdates=function(){return!!s},u}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=r,t.default=r}.apply(null,i))||(e.exports=a)},74:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(42),r(42),r(71),r(97),r(41),r(33),r(38),r(30),r(48),r(46),r(80),r(85),r(93)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u,p,d,c,f,y,m,h){var v=new l.default({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),g=new l.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(e){function t(t){var r=e.call(this,t)||this;return r.cacheHint=!1,r.datumTransformation=null,r.distance=void 0,r.gdbVersion=null,r.geometry=null,r.geometryPrecision=void 0,r.groupByFieldsForStatistics=null,r.having=null,r.historicMoment=null,r.maxAllowableOffset=void 0,r.maxRecordCountFactor=1,r.multipatchOption=null,r.num=void 0,r.objectIds=null,r.orderByFields=null,r.outFields=null,r.outSpatialReference=null,r.outStatistics=null,r.parameterValues=null,r.pixelSize=null,r.quantizationParameters=null,r.rangeValues=null,r.relationParameter=null,r.resultType=null,r.returnCentroid=!1,r.returnDistinctValues=!1,r.returnExceededLimitFeatures=!0,r.returnGeometry=!1,r.returnQueryGeometry=!1,r.returnM=void 0,r.returnZ=void 0,r.source=null,r.spatialRelationship="intersects",r.start=void 0,r.sqlFormat=null,r.text=null,r.timeExtent=null,r.units=null,r.where=null,r}var l;return r(t,e),l=t,t.from=function(e){return c.ensureClass(l,e)},t.prototype.castDatumTransformation=function(e){return"number"==typeof e||"object"==typeof e?e:null},t.prototype.writeHistoricMoment=function(e,t){t.historicMoment=e&&e.getTime()},t.prototype.writeParameterValues=function(e,t){if(e){var r={};for(var i in e){var a=e[i];Array.isArray(a)?r[i]=a.map(function(e){return e instanceof Date?e.getTime():e}):a instanceof Date?r[i]=a.getTime():r[i]=a}t.parameterValues=r}},t.prototype.writeStart=function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"},t.prototype.writeWhere=function(e,t){t.where=e||"1=1"},t.prototype.clone=function(){return new l(p.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))},t.MAX_MAX_RECORD_COUNT_FACTOR=5,i([d.property({type:Boolean,json:{write:!0,default:!1}})],t.prototype,"cacheHint",void 0),i([d.property({json:{write:!0}})],t.prototype,"datumTransformation",void 0),i([d.cast("datumTransformation")],t.prototype,"castDatumTransformation",null),i([d.property({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],t.prototype,"distance",void 0),i([d.property({type:String,json:{write:!0}})],t.prototype,"gdbVersion",void 0),i([d.property({types:n.geometryTypes,json:{read:f.fromJSON,write:!0}})],t.prototype,"geometry",void 0),i([d.property({type:Number,json:{write:!0}})],t.prototype,"geometryPrecision",void 0),i([d.property({type:[String],json:{write:!0}})],t.prototype,"groupByFieldsForStatistics",void 0),i([d.property({type:String,json:{write:!0}})],t.prototype,"having",void 0),i([d.property({type:Date})],t.prototype,"historicMoment",void 0),i([d.writer("historicMoment")],t.prototype,"writeHistoricMoment",null),i([d.property({type:Number,json:{write:!0}})],t.prototype,"maxAllowableOffset",void 0),i([d.property({type:Number,cast:function(e){return e<1?1:e>l.MAX_MAX_RECORD_COUNT_FACTOR?l.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],t.prototype,"maxRecordCountFactor",void 0),i([d.property({type:String,json:{write:!0}})],t.prototype,"multipatchOption",void 0),i([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],t.prototype,"num",void 0),i([d.property({type:[Number],json:{write:!0}})],t.prototype,"objectIds",void 0),i([d.property({type:[String],json:{write:!0}})],t.prototype,"orderByFields",void 0),i([d.property({type:[String],json:{write:!0}})],t.prototype,"outFields",void 0),i([d.property({type:a.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],t.prototype,"outSpatialReference",void 0),i([d.property({type:[h],json:{write:!0}})],t.prototype,"outStatistics",void 0),i([d.property({json:{write:!0}})],t.prototype,"parameterValues",void 0),i([d.writer("parameterValues")],t.prototype,"writeParameterValues",null),i([d.property({types:o.symbolTypes,json:{read:y.read,write:!0}})],t.prototype,"pixelSize",void 0),i([d.property({type:m.default,json:{write:!0}})],t.prototype,"quantizationParameters",void 0),i([d.property({type:[Object],json:{write:!0}})],t.prototype,"rangeValues",void 0),i([d.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],t.prototype,"relationParameter",void 0),i([d.property({type:String,json:{write:!0}})],t.prototype,"resultType",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"returnCentroid",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"returnDistinctValues",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:!e}}}}})],t.prototype,"returnExceededLimitFeatures",void 0),i([d.property({type:Boolean,json:{write:!0}})],t.prototype,"returnGeometry",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"returnQueryGeometry",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"returnM",void 0),i([d.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"returnZ",void 0),i([d.property({json:{write:!0}})],t.prototype,"source",void 0),i([d.property({type:String,json:{read:{source:"spatialRel",reader:v.read},write:{target:"spatialRel",writer:v.write}}})],t.prototype,"spatialRelationship",void 0),i([d.property({type:Number,json:{read:{source:"resultOffset"}}})],t.prototype,"start",void 0),i([d.writer("start"),d.writer("num")],t.prototype,"writeStart",null),i([d.property({type:String,json:{write:!0}})],t.prototype,"sqlFormat",void 0),i([d.property({type:String,json:{write:!0}})],t.prototype,"text",void 0),i([d.property({type:s,json:{write:!0}})],t.prototype,"timeExtent",void 0),i([d.property({type:String,json:{read:g.read,write:{writer:g.write,overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],t.prototype,"units",void 0),i([d.property({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],t.prototype,"where",void 0),i([d.writer("where")],t.prototype,"writeWhere",null),l=i([d.subclass("esri.tasks.support.Query")],t)}(d.declared(u.JSONSupport))}.apply(null,i))||(e.exports=a)},78:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(41),r(33),r(30),r(48),r(169),r(170)],void 0===(a=function(e,t,r,i,a,n,o,s,l,u){var p=new a.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(e){function t(t){var r=e.call(this,t)||this;return r.alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r}var a;return r(t,e),a=t,t.prototype.readDescription=function(e,t){var r,i=t.description;try{r=JSON.parse(i)}catch(e){}return r?r.value:null},t.prototype.readValueType=function(e,t){var r,i=t.description;try{r=JSON.parse(i)}catch(e){}return r?p.fromJSON(r.fieldValueType):null},t.prototype.clone=function(){return new a({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})},i([o.property({type:String,json:{write:!0}})],t.prototype,"alias",void 0),i([o.property({type:[String,Number],json:{write:{allowNull:!0}}})],t.prototype,"defaultValue",void 0),i([o.property()],t.prototype,"description",void 0),i([o.reader("description")],t.prototype,"readDescription",null),i([o.property({types:l.types,json:{read:{reader:l.fromJSON},write:!0}})],t.prototype,"domain",void 0),i([o.property({type:Boolean,json:{write:!0}})],t.prototype,"editable",void 0),i([o.property({type:s.Integer,json:{write:!0}})],t.prototype,"length",void 0),i([o.property({type:String,json:{write:!0}})],t.prototype,"name",void 0),i([o.property({type:Boolean,json:{write:!0}})],t.prototype,"nullable",void 0),i([o.enumeration.serializable()(u.kebabDict)],t.prototype,"type",void 0),i([o.property()],t.prototype,"valueType",void 0),i([o.reader("valueType",["description"])],t.prototype,"readValueType",null),a=i([o.subclass("esri.layers.support.Field")],t)}(o.declared(n.JSONSupport))}.apply(null,i))||(e.exports=a)},798:function(e,t,r){var i,a;i=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceLayer=function(e){if(e)return e.get("sourceLayer")||e.get("layer")}}.apply(null,i))||(e.exports=a)},85:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(42),r(41),r(33),r(38),r(30)],void 0===(a=function(e,t,r,i,a,n,o,s,l){Object.defineProperty(t,"__esModule",{value:!0});var u=new n.default({upperLeft:"upper-left",lowerLeft:"lower-left"}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.extent=null,r.mode="view",r.originPosition="upper-left",r.tolerance=1,r}var n;return r(t,e),n=t,t.prototype.clone=function(){return new n(s.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))},i([l.property({type:a.Extent,json:{write:!0}})],t.prototype,"extent",void 0),i([l.property({type:["view","edit"],json:{write:!0}})],t.prototype,"mode",void 0),i([l.property({type:String,json:{read:u.read,write:u.write}})],t.prototype,"originPosition",void 0),i([l.property({type:Number,json:{write:!0}})],t.prototype,"tolerance",void 0),n=i([l.subclass("esri.tasks.support.QuantizationParameters")],t)}(l.declared(o.JSONSupport));t.default=p}.apply(null,i))||(e.exports=a)},93:function(e,t,r){var i,a;i=[r.dj.c(e.i),t,r(29),r(28),r(33),r(30)],void 0===(a=function(e,t,r,i,a,n){return function(e){function t(t){var r=e.call(this,t)||this;return r.maxPointCount=void 0,r.maxRecordCount=void 0,r.maxVertexCount=void 0,r.onStatisticField=null,r.outStatisticFieldName=null,r.statisticType=null,r}var a;return r(t,e),a=t,t.prototype.clone=function(){return new a({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})},i([n.property({type:Number,json:{write:!0}})],t.prototype,"maxPointCount",void 0),i([n.property({type:Number,json:{write:!0}})],t.prototype,"maxRecordCount",void 0),i([n.property({type:Number,json:{write:!0}})],t.prototype,"maxVertexCount",void 0),i([n.property({type:String,json:{write:!0}})],t.prototype,"onStatisticField",void 0),i([n.property({type:String,json:{write:!0}})],t.prototype,"outStatisticFieldName",void 0),i([n.property({type:String,json:{write:!0}})],t.prototype,"statisticType",void 0),a=i([n.subclass("esri.tasks.support.StatisticDefinition")],t)}(n.declared(a.JSONSupport))}.apply(null,i))||(e.exports=a)}}]);