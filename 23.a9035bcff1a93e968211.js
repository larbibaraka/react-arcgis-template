(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/Field":78,"esri/core/requireUtils":164,"esri/core/libs/gl-matrix-2/mat4":197,"esri/core/libs/gl-matrix-2/factories/mat3f64":322,"esri/core/libs/gl-matrix-2/math/mat4":365,"esri/views/3d/support/projectionUtils":373,"esri/core/libs/gl-matrix-2/quat":436,"esri/core/libs/gl-matrix-2/math/vec4":437,"esri/core/libs/gl-matrix-2/quatf32":438,"esri/core/libs/gl-matrix-2/vec3f32":562,"esri/views/3d/layers/i3s/I3SBinaryReader":569,"esri/core/libs/gl-matrix-2/factories/quatf64":787,"esri/views/3d/layers/i3s/LEPCC":788,"esri/views/3d/support/earthUtils":789,"esri/core/libs/gl-matrix-2/math/quat":1741,"esri/core/libs/gl-matrix-2/factories/quatf32":1742,"esri/core/libs/gl-matrix-2/factories/vec3f32":1743,"esri/views/3d/webgl-engine/lib/BufferVectorMath":1745})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[23,107],{164:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(187),r(37),r(34)],void 0===(a=function(e,t,r,n,a){Object.defineProperty(t,"__esModule",{value:!0});var o=n.getLogger("esri.core.requireUtils");t.when=function e(t,n){return r.deprecatedFunction(o,"when",{moduleName:"requireUtils",replacement:"Use `promiseUtils.create()` instead.",version:"4.10",warnOnce:!0}),Array.isArray(n)?a.create(function(e){t(n,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e(t)})}):e(t,[n]).then(function(e){return e[0]})},t.getAbsMid=function(e,t,r){return t.toAbsMid?t.toAbsMid(e):r.id.replace(/\/[^\/]*$/gi,"/")+e}}.apply(null,n))||(e.exports=a)},1741:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(322),r(787),r(310),r(207),r(663),r(437)],void 0===(a=function(e,t,r,n,a,o,i,u){function c(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function s(e,t,r){var n=t[0],a=t[1],o=t[2],i=t[3],u=r[0],c=r[1],s=r[2],l=r[3];return e[0]=n*l+i*u+a*s-o*c,e[1]=a*l+i*c+o*u-n*s,e[2]=o*l+i*s+n*c-a*u,e[3]=i*l-n*u-a*c-o*s,e}function l(e,t,r,n){var a,i,u,c,s,l=t[0],f=t[1],d=t[2],h=t[3],p=r[0],v=r[1],M=r[2],y=r[3];return(i=l*p+f*v+d*M+h*y)<0&&(i=-i,p=-p,v=-v,M=-M,y=-y),1-i>o.EPSILON?(a=Math.acos(i),u=Math.sin(a),c=Math.sin((1-n)*a)/u,s=Math.sin(n*a)/u):(c=1-n,s=n),e[0]=c*l+s*p,e[1]=c*f+s*v,e[2]=c*d+s*M,e[3]=c*h+s*y,e}function f(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(t[3*a+a]-t[3*o+o]-t[3*i+i]+1),e[a]=.5*r,r=.5/r,e[3]=(t[3*o+i]-t[3*i+o])*r,e[o]=(t[3*o+a]+t[3*a+o])*r,e[i]=(t[3*i+a]+t[3*a+i])*r}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},t.setAxisAngle=c,t.getAxisAngle=function(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>o.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r},t.multiply=s,t.rotateX=function(e,t,r){r*=.5;var n=t[0],a=t[1],o=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*u,e[1]=a*c+o*u,e[2]=o*c-a*u,e[3]=i*c-n*u,e},t.rotateY=function(e,t,r){r*=.5;var n=t[0],a=t[1],o=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c-o*u,e[1]=a*c+i*u,e[2]=o*c+n*u,e[3]=i*c-a*u,e},t.rotateZ=function(e,t,r){r*=.5;var n=t[0],a=t[1],o=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+a*u,e[1]=a*c-n*u,e[2]=o*c+i*u,e[3]=i*c-o*u,e},t.calculateW=function(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e},t.slerp=l,t.random=function(e){var t=o.RANDOM(),r=o.RANDOM(),n=o.RANDOM(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e},t.invert=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=r*r+n*n+a*a+o*o,u=i?1/i:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-a*u,e[3]=o*u,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},t.fromMat3=f,t.fromEuler=function(e,t,r,n){var a=.5*Math.PI/180;t*=a,r*=a,n*=a;var o=Math.sin(t),i=Math.cos(t),u=Math.sin(r),c=Math.cos(r),s=Math.sin(n),l=Math.cos(n);return e[0]=o*c*l-i*u*s,e[1]=i*u*l+o*c*s,e[2]=i*c*s-o*u*l,e[3]=i*c*l+o*u*s,e},t.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.copy=u.copy,t.set=u.set,t.add=u.add,t.mul=s,t.scale=u.scale,t.dot=u.dot,t.lerp=u.lerp,t.length=u.length,t.len=t.length,t.squaredLength=u.squaredLength,t.sqrLen=t.squaredLength,t.normalize=u.normalize,t.exactEquals=u.exactEquals,t.equals=u.equals,t.rotationTo=function(e,r,n){var a=i.dot(r,n);return a<-.999999?(i.cross(d,h,r),i.len(d)<1e-6&&i.cross(d,p,r),i.normalize(d,d),c(e,d,Math.PI),e):a>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(i.cross(d,r,n),e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=1+a,t.normalize(e,e))};var d=a.create(),h=a.fromValues(1,0,0),p=a.fromValues(0,1,0);t.sqlerp=function(e,t,r,n,a,o){return l(v,t,a,o),l(M,r,n,o),l(e,v,M,2*o*(1-o)),e};var v=n.create(),M=n.create();t.setAxes=function(e,r,n,a){var o=y;return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=a[0],o[4]=a[1],o[7]=a[2],o[2]=-r[0],o[5]=-r[1],o[8]=-r[2],t.normalize(e,f(e,o))};var y=r.create()}.apply(null,n))||(e.exports=a)},1742:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new Float32Array(4);return e[3]=1,e},t.clone=function(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.fromValues=function(e,t,r,n){var a=new Float32Array(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a},t.createView=function(e,t){return new Float32Array(e,t,4)}}.apply(null,n))||(e.exports=a)},1743:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){function r(){return new Float32Array(3)}function n(e,t,r){var n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=r,n}function a(){return r()}function o(){return n(1,1,1)}function i(){return n(1,0,0)}function u(){return n(0,1,0)}function c(){return n(0,0,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.fromValues=n,t.createView=function(e,t){return new Float32Array(e,t,3)},t.zeros=a,t.ones=o,t.unitX=i,t.unitY=u,t.unitZ=c,t.ZEROS=a(),t.ONES=o(),t.UNIT_X=i(),t.UNIT_Y=u(),t.UNIT_Z=c()}.apply(null,n))||(e.exports=a)},1745:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e,t){var r=e[t],n=e[t+1],a=e[t+2];return Math.sqrt(r*r+n*n+a*a)},e.normalize=function(e,t){var r=e[t],n=e[t+1],a=e[t+2],o=1/Math.sqrt(r*r+n*n+a*a);e[t]*=o,e[t+1]*=o,e[t+2]*=o},e.scale=function(e,t,r){e[t]*=r,e[t+1]*=r,e[t+2]*=r},e.add=function(e,t,r,n,a,o){void 0===o&&(o=t),(a=a||e)[o]=e[t]+r[n],a[o+1]=e[t+1]+r[n+1],a[o+2]=e[t+2]+r[n+2]},e.subtract=function(e,t,r,n,a,o){void 0===o&&(o=t),(a=a||e)[o]=e[t]-r[n],a[o+1]=e[t+1]-r[n+1],a[o+2]=e[t+2]-r[n+2]}}(t.Vec3Compact||(t.Vec3Compact={}))}.apply(null,n))||(e.exports=a)},197:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(365)],void 0===(a=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mat4=r}.apply(null,n))||(e.exports=a)},322:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return[1,0,0,0,1,0,0,0,1]},t.clone=function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},t.fromValues=function(e,t,r,n,a,o,i,u,c){return[e,t,r,n,a,o,i,u,c]},t.createView=function(e,t){return new Float64Array(e,t,9)}}.apply(null,n))||(e.exports=a)},365:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(310),r(207)],void 0===(a=function(e,t,r,n){function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e,t,r){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],c=t[5],s=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],M=t[13],y=t[14],m=t[15],b=r[0],g=r[1],w=r[2],x=r[3];return e[0]=b*n+g*u+w*f+x*v,e[1]=b*a+g*c+w*d+x*M,e[2]=b*o+g*s+w*h+x*y,e[3]=b*i+g*l+w*p+x*m,b=r[4],g=r[5],w=r[6],x=r[7],e[4]=b*n+g*u+w*f+x*v,e[5]=b*a+g*c+w*d+x*M,e[6]=b*o+g*s+w*h+x*y,e[7]=b*i+g*l+w*p+x*m,b=r[8],g=r[9],w=r[10],x=r[11],e[8]=b*n+g*u+w*f+x*v,e[9]=b*a+g*c+w*d+x*M,e[10]=b*o+g*s+w*h+x*y,e[11]=b*i+g*l+w*p+x*m,b=r[12],g=r[13],w=r[14],x=r[15],e[12]=b*n+g*u+w*f+x*v,e[13]=b*a+g*c+w*d+x*M,e[14]=b*o+g*s+w*h+x*y,e[15]=b*i+g*l+w*p+x*m,e}function i(e,t,r){var n=t[0],a=t[1],o=t[2],i=t[3],u=n+n,c=a+a,s=o+o,l=n*u,f=n*c,d=n*s,h=a*c,p=a*s,v=o*s,M=i*u,y=i*c,m=i*s;return e[0]=1-(h+v),e[1]=f+m,e[2]=d-y,e[3]=0,e[4]=f-m,e[5]=1-(l+v),e[6]=p+M,e[7]=0,e[8]=d+y,e[9]=p-M,e[10]=1-(l+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.set=function(e,t,r,n,a,o,i,u,c,s,l,f,d,h,p,v,M){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=o,e[5]=i,e[6]=u,e[7]=c,e[8]=s,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=M,e},t.identity=a,t.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],o=t[6],i=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=a,e[13]=i,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},t.invert=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],c=t[6],s=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],M=t[14],y=t[15],m=r*u-n*i,b=r*c-a*i,g=r*s-o*i,w=n*c-a*u,x=n*s-o*u,R=a*s-o*c,I=l*v-f*p,O=l*M-d*p,C=l*y-h*p,P=f*M-d*v,T=f*y-h*v,A=d*y-h*M,S=m*A-b*T+g*P+w*C-x*O+R*I;return S?(S=1/S,e[0]=(u*A-c*T+s*P)*S,e[1]=(a*T-n*A-o*P)*S,e[2]=(v*R-M*x+y*w)*S,e[3]=(d*x-f*R-h*w)*S,e[4]=(c*C-i*A-s*O)*S,e[5]=(r*A-a*C+o*O)*S,e[6]=(M*g-p*R-y*b)*S,e[7]=(l*R-d*g+h*b)*S,e[8]=(i*T-u*C+s*I)*S,e[9]=(n*C-r*T-o*I)*S,e[10]=(p*x-v*g+y*m)*S,e[11]=(f*g-l*x-h*m)*S,e[12]=(u*O-i*P-c*I)*S,e[13]=(r*P-n*O+a*I)*S,e[14]=(v*b-p*w-M*m)*S,e[15]=(l*w-f*b+d*m)*S,e):null},t.adjoint=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],c=t[6],s=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],M=t[14],y=t[15];return e[0]=u*(d*y-h*M)-f*(c*y-s*M)+v*(c*h-s*d),e[1]=-(n*(d*y-h*M)-f*(a*y-o*M)+v*(a*h-o*d)),e[2]=n*(c*y-s*M)-u*(a*y-o*M)+v*(a*s-o*c),e[3]=-(n*(c*h-s*d)-u*(a*h-o*d)+f*(a*s-o*c)),e[4]=-(i*(d*y-h*M)-l*(c*y-s*M)+p*(c*h-s*d)),e[5]=r*(d*y-h*M)-l*(a*y-o*M)+p*(a*h-o*d),e[6]=-(r*(c*y-s*M)-i*(a*y-o*M)+p*(a*s-o*c)),e[7]=r*(c*h-s*d)-i*(a*h-o*d)+l*(a*s-o*c),e[8]=i*(f*y-h*v)-l*(u*y-s*v)+p*(u*h-s*f),e[9]=-(r*(f*y-h*v)-l*(n*y-o*v)+p*(n*h-o*f)),e[10]=r*(u*y-s*v)-i*(n*y-o*v)+p*(n*s-o*u),e[11]=-(r*(u*h-s*f)-i*(n*h-o*f)+l*(n*s-o*u)),e[12]=-(i*(f*M-d*v)-l*(u*M-c*v)+p*(u*d-c*f)),e[13]=r*(f*M-d*v)-l*(n*M-a*v)+p*(n*d-a*f),e[14]=-(r*(u*M-c*v)-i*(n*M-a*v)+p*(n*c-a*u)),e[15]=r*(u*d-c*f)-i*(n*d-a*f)+l*(n*c-a*u),e},t.determinant=function(e){var t=e[0],r=e[1],n=e[2],a=e[3],o=e[4],i=e[5],u=e[6],c=e[7],s=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],M=e[15];return(t*i-r*o)*(f*M-d*v)-(t*u-n*o)*(l*M-d*p)+(t*c-a*o)*(l*v-f*p)+(r*u-n*i)*(s*M-d*h)-(r*c-a*i)*(s*v-f*h)+(n*c-a*u)*(s*p-l*h)},t.multiply=o,t.translate=function(e,t,r){var n=r[0],a=r[1],o=r[2],i=void 0,u=void 0,c=void 0,s=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0,M=void 0,y=void 0;return t===e?(e[12]=t[0]*n+t[4]*a+t[8]*o+t[12],e[13]=t[1]*n+t[5]*a+t[9]*o+t[13],e[14]=t[2]*n+t[6]*a+t[10]*o+t[14],e[15]=t[3]*n+t[7]*a+t[11]*o+t[15]):(i=t[0],u=t[1],c=t[2],s=t[3],l=t[4],f=t[5],d=t[6],h=t[7],p=t[8],v=t[9],M=t[10],y=t[11],e[0]=i,e[1]=u,e[2]=c,e[3]=s,e[4]=l,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=v,e[10]=M,e[11]=y,e[12]=i*n+l*a+p*o+t[12],e[13]=u*n+f*a+v*o+t[13],e[14]=c*n+d*a+M*o+t[14],e[15]=s*n+h*a+y*o+t[15]),e},t.scale=function(e,t,r){var n=r[0],a=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.rotate=function(e,t,r,a){var o=a[0],i=a[1],u=a[2],c=Math.sqrt(o*o+i*i+u*u),s=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0,M=void 0,y=void 0,m=void 0,b=void 0,g=void 0,w=void 0,x=void 0,R=void 0,I=void 0,O=void 0,C=void 0,P=void 0,T=void 0,A=void 0,S=void 0,U=void 0,E=void 0;return c<n.EPSILON?null:(o*=c=1/c,i*=c,u*=c,s=Math.sin(r),f=1-(l=Math.cos(r)),d=t[0],h=t[1],p=t[2],v=t[3],M=t[4],y=t[5],m=t[6],b=t[7],g=t[8],w=t[9],x=t[10],R=t[11],I=o*o*f+l,O=i*o*f+u*s,C=u*o*f-i*s,P=o*i*f-u*s,T=i*i*f+l,A=u*i*f+o*s,S=o*u*f+i*s,U=i*u*f-o*s,E=u*u*f+l,e[0]=d*I+M*O+g*C,e[1]=h*I+y*O+w*C,e[2]=p*I+m*O+x*C,e[3]=v*I+b*O+R*C,e[4]=d*P+M*T+g*A,e[5]=h*P+y*T+w*A,e[6]=p*P+m*T+x*A,e[7]=v*P+b*T+R*A,e[8]=d*S+M*U+g*E,e[9]=h*S+y*U+w*E,e[10]=p*S+m*U+x*E,e[11]=v*S+b*U+R*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},t.rotateX=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),o=t[4],i=t[5],u=t[6],c=t[7],s=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*a+s*n,e[5]=i*a+l*n,e[6]=u*a+f*n,e[7]=c*a+d*n,e[8]=s*a-o*n,e[9]=l*a-i*n,e[10]=f*a-u*n,e[11]=d*a-c*n,e},t.rotateY=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),o=t[0],i=t[1],u=t[2],c=t[3],s=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a-s*n,e[1]=i*a-l*n,e[2]=u*a-f*n,e[3]=c*a-d*n,e[8]=o*n+s*a,e[9]=i*n+l*a,e[10]=u*n+f*a,e[11]=c*n+d*a,e},t.rotateZ=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),o=t[0],i=t[1],u=t[2],c=t[3],s=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a+s*n,e[1]=i*a+l*n,e[2]=u*a+f*n,e[3]=c*a+d*n,e[4]=s*a-o*n,e[5]=l*a-i*n,e[6]=f*a-u*n,e[7]=d*a-c*n,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=function(e,t,r){var a=r[0],o=r[1],i=r[2],u=Math.sqrt(a*a+o*o+i*i),c=void 0,s=void 0,l=void 0;return u<n.EPSILON?null:(a*=u=1/u,o*=u,i*=u,c=Math.sin(t),l=1-(s=Math.cos(t)),e[0]=a*a*l+s,e[1]=o*a*l+i*c,e[2]=i*a*l-o*c,e[3]=0,e[4]=a*o*l-i*c,e[5]=o*o*l+s,e[6]=i*o*l+a*c,e[7]=0,e[8]=a*i*l+o*c,e[9]=o*i*l-a*c,e[10]=i*i*l+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},t.fromXRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotationTranslation=i,t.fromQuat2=function(e,t){var r=c,n=-t[0],a=-t[1],o=-t[2],u=t[3],s=t[4],l=t[5],f=t[6],d=t[7],h=n*n+a*a+o*o+u*u;return h>0?(r[0]=2*(s*u+d*n+l*o-f*a)/h,r[1]=2*(l*u+d*a+f*n-s*o)/h,r[2]=2*(f*u+d*o+s*a-l*n)/h):(r[0]=2*(s*u+d*n+l*o-f*a),r[1]=2*(l*u+d*a+f*n-s*o),r[2]=2*(f*u+d*o+s*a-l*n)),i(e,t,r),e};var c=r.create();t.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},t.getScaling=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[4],i=t[5],u=t[6],c=t[8],s=t[9],l=t[10];return e[0]=Math.sqrt(r*r+n*n+a*a),e[1]=Math.sqrt(o*o+i*i+u*u),e[2]=Math.sqrt(c*c+s*s+l*l),e},t.getRotation=function(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e},t.fromRotationTranslationScale=function(e,t,r,n){var a=t[0],o=t[1],i=t[2],u=t[3],c=a+a,s=o+o,l=i+i,f=a*c,d=a*s,h=a*l,p=o*s,v=o*l,M=i*l,y=u*c,m=u*s,b=u*l,g=n[0],w=n[1],x=n[2];return e[0]=(1-(p+M))*g,e[1]=(d+b)*g,e[2]=(h-m)*g,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+M))*w,e[6]=(v+y)*w,e[7]=0,e[8]=(h+m)*x,e[9]=(v-y)*x,e[10]=(1-(f+p))*x,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},t.fromRotationTranslationScaleOrigin=function(e,t,r,n,a){var o=t[0],i=t[1],u=t[2],c=t[3],s=o+o,l=i+i,f=u+u,d=o*s,h=o*l,p=o*f,v=i*l,M=i*f,y=u*f,m=c*s,b=c*l,g=c*f,w=n[0],x=n[1],R=n[2],I=a[0],O=a[1],C=a[2],P=(1-(v+y))*w,T=(h+g)*w,A=(p-b)*w,S=(h-g)*x,U=(1-(d+y))*x,E=(M+m)*x,L=(p+b)*R,q=(M-m)*R,z=(1-(d+v))*R;return e[0]=P,e[1]=T,e[2]=A,e[3]=0,e[4]=S,e[5]=U,e[6]=E,e[7]=0,e[8]=L,e[9]=q,e[10]=z,e[11]=0,e[12]=r[0]+I-(P*I+S*O+L*C),e[13]=r[1]+O-(T*I+U*O+q*C),e[14]=r[2]+C-(A*I+E*O+z*C),e[15]=1,e},t.fromQuat=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=r+r,u=n+n,c=a+a,s=r*i,l=n*i,f=n*u,d=a*i,h=a*u,p=a*c,v=o*i,M=o*u,y=o*c;return e[0]=1-f-p,e[1]=l+y,e[2]=d-M,e[3]=0,e[4]=l-y,e[5]=1-s-p,e[6]=h+v,e[7]=0,e[8]=d+M,e[9]=h-v,e[10]=1-s-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=function(e,t,r,n,a,o,i){var u=1/(r-t),c=1/(a-n),s=1/(o-i);return e[0]=2*o*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*c,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(a+n)*c,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e},t.perspective=function(e,t,r,n,a){var o=1/Math.tan(t/2),i=void 0;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e},t.perspectiveFromFieldOfView=function(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),c=2/(i+u),s=2/(a+o);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-(i-u)*c*.5,e[9]=(a-o)*s*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},t.ortho=function(e,t,r,n,a,o,i){var u=1/(t-r),c=1/(n-a),s=1/(o-i);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(t+r)*u,e[13]=(a+n)*c,e[14]=(i+o)*s,e[15]=1,e},t.lookAt=function(e,t,r,o){var i=void 0,u=void 0,c=void 0,s=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,v=void 0,M=t[0],y=t[1],m=t[2],b=o[0],g=o[1],w=o[2],x=r[0],R=r[1],I=r[2];return Math.abs(M-x)<n.EPSILON&&Math.abs(y-R)<n.EPSILON&&Math.abs(m-I)<n.EPSILON?a(e):(d=M-x,h=y-R,p=m-I,i=g*(p*=v=1/Math.sqrt(d*d+h*h+p*p))-w*(h*=v),u=w*(d*=v)-b*p,c=b*h-g*d,(v=Math.sqrt(i*i+u*u+c*c))?(i*=v=1/v,u*=v,c*=v):(i=0,u=0,c=0),s=h*c-p*u,l=p*i-d*c,f=d*u-h*i,(v=Math.sqrt(s*s+l*l+f*f))?(s*=v=1/v,l*=v,f*=v):(s=0,l=0,f=0),e[0]=i,e[1]=s,e[2]=d,e[3]=0,e[4]=u,e[5]=l,e[6]=h,e[7]=0,e[8]=c,e[9]=f,e[10]=p,e[11]=0,e[12]=-(i*M+u*y+c*m),e[13]=-(s*M+l*y+f*m),e[14]=-(d*M+h*y+p*m),e[15]=1,e)},t.targetTo=function(e,t,r,n){var a=t[0],o=t[1],i=t[2],u=n[0],c=n[1],s=n[2],l=a-r[0],f=o-r[1],d=i-r[2],h=l*l+f*f+d*d;h>0&&(l*=h=1/Math.sqrt(h),f*=h,d*=h);var p=c*d-s*f,v=s*l-u*d,M=u*f-c*l;return(h=p*p+v*v+M*M)>0&&(p*=h=1/Math.sqrt(h),v*=h,M*=h),e[0]=p,e[1]=v,e[2]=M,e[3]=0,e[4]=f*M-d*v,e[5]=d*p-l*M,e[6]=l*v-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=o,e[14]=i,e[15]=1,e},t.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},t.subtract=u,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},t.equals=function(e,t){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],c=e[5],s=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],v=e[12],M=e[13],y=e[14],m=e[15],b=t[0],g=t[1],w=t[2],x=t[3],R=t[4],I=t[5],O=t[6],C=t[7],P=t[8],T=t[9],A=t[10],S=t[11],U=t[12],E=t[13],L=t[14],q=t[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-w)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-x)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-R)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-I)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(s-O)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(l-C)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(f-P)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(d-T)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(h-A)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-S)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(v-U)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(U))&&Math.abs(M-E)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(E))&&Math.abs(y-L)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-q)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))},t.mul=o,t.sub=u}.apply(null,n))||(e.exports=a)},373:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(91),r(40),r(174),r(197),r(125),r(145),r(102),r(50),r(92),r(556),r(789),r(1745)],void 0===(a=function(e,t,r,n,a,o,i,u,c,s,l,f,d,h){function p(e,t,r,n){return 2===e.length?(k[0]=e[0],k[1]=e[1],k[2]=0,e=k):e===r&&(i.vec3.copy(k,e),e=k),v(e,t,0,r,n,0,1)}function v(e,t,r,a,o,i,u){void 0===u&&(u=1);var c=C(t,o,D);if(n.isNone(c))return!1;if(c===y){if(e===a&&r===i)return!0;for(var s=r+3*u,l=r,f=i;l<s;l++,f++)a[f]=e[l];return!0}var d=r+3*u;for(l=r,f=i;l<d;l+=3,f+=3)c(e,l,a,f);return!0}function M(e,r){return r.spatialReference===e?r.spatialReferenceId:(r.spatialReference=e,"metersPerUnit"in r&&(r.metersPerUnit=a.getMetersPerUnitForSR(e,1)),e.wkt===t.SphericalECEFSpatialReference.wkt?r.spatialReferenceId=1:e.isWGS84?r.spatialReferenceId=2:e.isWebMercator?r.spatialReferenceId=3:e.wkt===t.WGS84ECEFSpatialReference.wkt?r.spatialReferenceId=4:4490===e.wkid?r.spatialReferenceId=5:r.spatialReferenceId=0)}function y(e,t,r,n){r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t]}function m(e,t,r,n){r[n++]=B*(e[t++]/d.earthRadius),r[n++]=B*(Math.PI/2-2*Math.atan(Math.exp(-1*e[t++]/d.earthRadius))),r[n]=e[t]}function b(e,t,n,a){var o=.4999999*Math.PI,i=r.clamp(_*e[t+1],-o,o),u=Math.sin(i);n[a++]=_*e[t]*d.earthRadius,n[a++]=d.halfEarthRadius*Math.log((1+u)/(1-u)),n[a]=e[t+2]}function g(e,t,r){var a=M(t,N),o=j[a][6];return!n.isNone(o)&&(o(e,0,k,0),r!==k&&(r[0]=k[0],r[1]=k[1],r.length>2&&(r[2]=k[2])),!0)}function w(e,t){return k[0]=e.x,k[1]=e.y,k[2]=e.hasZ?e.z:0,g(k,e.spatialReference,t)}function x(e,t,r,n){var a=d.earthRadius+e[t+2],o=_*e[t+1],i=_*e[t],u=Math.cos(o);r[n++]=Math.cos(i)*u*a,r[n++]=Math.sin(i)*u*a,r[n]=Math.sin(o)*a}function R(e,t,n,a){var o=h.Vec3Compact.length(e,t),i=r.asinClamped(e[t+2]/(0===o?1:o)),u=Math.cos(i)*o,c=(e[t+1]>0?1:-1)*r.acosClamped(e[t]/(0===u?1:u));n[a++]=B*c,n[a++]=B*i,n[a]=o-d.earthRadius}function I(e,t,r,n){var a=G,o=_*e[t],i=_*e[t+1],u=e[t+2],c=Math.sin(i),s=Math.cos(i),l=a.a/Math.sqrt(1-a.e2*c*c);r[n++]=(l+u)*s*Math.cos(o),r[n++]=(l+u)*s*Math.sin(o),r[n++]=(l*(1-a.e2)+u)*c}function O(e,t,r,n){var a,o,i,u,c,s,l,f,d,h,p,v,M,y,m,b,g,w,x,R,I,O=G,C=e[t],P=e[t+1],T=e[t+2];a=Math.abs(T),o=C*C+P*P,i=Math.sqrt(o),u=o+T*T,c=Math.sqrt(u),R=Math.atan2(P,C),s=T*T/u,l=o/u,y=O.a2/c,m=O.a3-O.a4/c,l>.3?(f=a/c*(1+l*(O.a1+y+s*m)/c),x=Math.asin(f),h=f*f,d=Math.sqrt(1-h)):(d=i/c*(1-s*(O.a5-y-l*m)/c),x=Math.acos(d),h=1-d*d,f=Math.sqrt(h)),p=1-O.e2*h,v=O.a/Math.sqrt(p),x+=w=(b=d*(m=a-(M=O.a6*v)*f)-f*(y=i-v*d))/(M/p+(g=d*y+f*m)),I=g+b*w/2,T<0&&(x=-x),r[n++]=B*R,r[n++]=B*x,r[n]=I}function C(e,t,r){return P(e,t,r).projector}function P(e,t,r){if(r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=M(e,r.source),a=M(t,r.dest);return 0===n&&0===a?e.equals(t)?r.projector=y:r.projector=null:r.projector=j[n][a],r}var T,A,S,U,E,L,q,z;Object.defineProperty(t,"__esModule",{value:!0}),t.SphericalECEFSpatialReference=new s({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'}),t.WGS84ECEFSpatialReference=new s({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'}),t.canProject=function(e,t){return!!C(e,t,D)},t.vectorToVector=p,t.pointToPoint=function(e,t,r,n){void 0===r&&(r=t.spatialReference),void 0===n&&(n=0),k[0]=e.x,k[1]=e.y;var a=e.z;return k[2]=void 0!==a?a:n,!!v(k,e.spatialReference,0,k,r,0,1)&&(t.x=k[0],t.y=k[1],t.spatialReference=r,void 0!==a?(t.z=k[2],t.hasZ=!0):(t.z=void 0,t.hasZ=!1),!0)},t.pointToVector=function(e,t,r,n){void 0===n&&(n=0),k[0]=e.x,k[1]=e.y;var a=e.z;return k[2]=void 0!==a?a:n,v(k,e.spatialReference,0,t,r,0,1)},t.vectorToPoint=function(e,t,r,n){var a;return r instanceof c?(a=r,n=n||a.spatialReference):f.isPoint(r)?((a=r).hasZ=!0,n=n||a.spatialReference):a=new c({spatialReference:n=r}),v(e,t,0,k,n,0,1)?(a.x=k[0],a.y=k[1],a.z=k[2],a.spatialReference=n,a):null},t.xyzToVector=function(e,t,r,n,a,o){return k[0]=e,k[1]=t,k[2]=r,v(k,n,0,a,o,0,1)},t.bufferToBuffer=v,t.computeLinearTransformation=function(e,t,r,a){var i=M(e,N),u=M(a,F);if(i===u&&1!==u&&(0!==i||e.equals(a)))return o.mat4.identity(r),o.mat4.translate(r,r,t),!0;if(1===u){var c=j[i][6],s=j[6][u];if(n.isNone(c)||n.isNone(s))return!1;c(t,0,Y,0),s(Y,0,X,0);var l=_*Y[0],f=_*Y[1],d=Math.sin(l),h=Math.cos(l),p=Math.sin(f),v=Math.cos(f),y=r;return y[0]=-d,y[4]=-p*h,y[8]=v*h,y[12]=X[0],y[1]=h,y[5]=-p*d,y[9]=v*d,y[13]=X[1],y[2]=0,y[6]=v,y[10]=p,y[14]=X[2],y[3]=0,y[7]=0,y[11]=0,y[15]=1,!0}if(3===u&&(2===i||1===i)){if(c=j[i][6],n.isNone(c))return!1;c(t,0,Y,0);var m=_*Y[1];b(Y,0,X,0),o.mat4.identity(r),o.mat4.translate(r,r,X);var g=1/Math.cos(m);return o.mat4.scale(r,r,[g,g,1]),!0}return!1},t.transformDirection=function(e,t,r,n,a){i.vec3.copy(H,e),i.vec3.add(Z,e,t),p(H,r,H,a),p(Z,r,Z,a),i.vec3.subtract(n,Z,H),i.vec3.normalize(n,n)},t.mbsToMbs=function(e,t,r,a){var o=P(t,a,V);if(o.projector===y)return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],!0;if(n.isNone(o.projector))return!1;var i=o.source,u=o.dest;if(3===u.spatialReferenceId){var c=j[i.spatialReferenceId][2];if(n.isNone(c))return!1;c(e,0,Y,0);var s=Math.abs(_*Y[1])+Math.asin(e[3]/(d.earthRadius+e[2]));if(b(Y,0,r,0),s>.9999*Math.PI)r[3]=Number.MAX_VALUE;else{var l=1/Math.cos(s);r[3]=l*e[3]}return!0}return o.projector(e,0,r,0),r[3]=e[3]*i.metersPerUnit/u.metersPerUnit,!0},t.extentToBoundingBox=function(e,t,r){if(null==e)return!1;var n=!0;return k[0]=null!=e.xmin?e.xmin:0,k[1]=null!=e.ymin?e.ymin:0,k[2]=null!=e.zmin?e.zmin:0,n=n&&v(k,e.spatialReference,0,t,r,0,1),k[0]=null!=e.xmax?e.xmax:0,k[1]=null!=e.ymax?e.ymax:0,k[2]=null!=e.zmax?e.zmax:0,n=n&&v(k,e.spatialReference,0,t,r,3,1),null==e.xmin&&(t[0]=-1/0),null==e.ymin&&(t[1]=-1/0),null==e.zmin&&(t[2]=-1/0),null==e.xmax&&(t[3]=1/0),null==e.ymax&&(t[4]=1/0),null==e.zmax&&(t[5]=1/0),n},t.extentToBoundingRect=function(e,t,r){if(null==e)return!1;var n=!0;return k[0]=null!=e.xmin?e.xmin:0,k[1]=null!=e.ymin?e.ymin:0,k[2]=null!=e.zmin?e.zmin:0,n=n&&v(k,e.spatialReference,0,k,r,0,1),t[0]=k[0],t[1]=k[1],k[0]=null!=e.xmax?e.xmax:0,k[1]=null!=e.ymax?e.ymax:0,k[2]=null!=e.zmax?e.zmax:0,n=n&&v(k,e.spatialReference,0,k,r,0,1),t[2]=k[0],t[3]=k[1],null==e.xmin&&(t[0]=-1/0),null==e.ymin&&(t[1]=-1/0),null==e.xmax&&(t[2]=1/0),null==e.ymax&&(t[3]=1/0),n},t.boundingRectToBoundingRect=function(e,t,r,n){if(null==e)return!1;if(t.equals(n))return l.set(r,e),!0;var a=!0;return k[0]=e[0],k[1]=e[1],k[2]=0,a=a&&v(k,t,0,k,n,0,1),r[0]=k[0],r[1]=k[1],k[0]=e[2],k[1]=e[3],k[2]=0,a=a&&v(k,t,0,k,n,0,1),r[2]=k[0],r[3]=k[1],a},function(e){e.x2lon=function(e){return e/d.earthRadius},e.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-1*e/d.earthRadius))},e.lon2x=function(e){return e*d.earthRadius},e.lat2y=function(e){var t=Math.sin(e);return d.earthRadius/2*Math.log((1+t)/(1-t))}}(t.webMercator||(t.webMercator={})),t.canProjectToWGS84ComparableLonLat=function(e){var t=M(e,N);return!!j[t][6]},t.vectorToWGS84ComparableLonLat=g,t.pointToWGS84ComparableLonLat=w,t.pointToWGS84ComparableLonLatPoint=function(e,t){var r=M(t.spatialReference,F);return!n.isNone(j[6][r])&&!!w(e,k)&&(t.x=k[0],t.y=k[1],t.z=k[2],!0)},t.wgs84ComparableLonLatToECEF=function(e,t,r,n){void 0===n&&(n=0);var a=d.earthRadius+n,o=Math.cos(r);e[0]=Math.cos(t)*o*a,e[1]=Math.sin(t)*o*a,e[2]=Math.sin(r)*a};var j=((T={})[2]=((A={})[5]=null,A[6]=y,A[1]=x,A[0]=null,A[3]=b,A[2]=y,A[4]=I,A),T[5]=((S={})[5]=y,S[6]=y,S[1]=x,S[0]=null,S[3]=null,S[2]=null,S[4]=I,S),T[3]=((U={})[5]=null,U[6]=m,U[1]=function(e,t,r,n){m(e,t,r,n),x(r,n,r,n)},U[0]=null,U[3]=y,U[2]=m,U[4]=function(e,t,r,n){m(e,t,r,n),I(r,n,r,n)},U),T[4]=((E={})[5]=O,E[6]=O,E[1]=function(e,t,r,n){O(e,t,r,n),x(r,n,r,n)},E[0]=null,E[3]=function(e,t,r,n){O(e,t,r,n),b(r,n,r,n)},E[2]=O,E[4]=y,E),T[1]=((L={})[5]=R,L[6]=R,L[1]=y,L[0]=null,L[3]=function(e,t,r,n){R(e,t,r,n),b(r,n,r,n)},L[2]=R,L[4]=function(e,t,r,n){R(e,t,r,n),I(r,n,r,n)},L),T[0]=((q={})[5]=null,q[6]=null,q[1]=null,q[0]=y,q[3]=null,q[2]=null,q[4]=null,q),T[6]=((z={})[5]=null,z[6]=y,z[1]=x,z[0]=null,z[3]=null,z[2]=y,z[4]=I,z),T),N={spatialReference:null,spatialReferenceId:0},F={spatialReference:null,spatialReferenceId:0},D={source:{spatialReference:null,spatialReferenceId:0},dest:{spatialReference:null,spatialReferenceId:0},projector:y},V={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:y},_=r.deg2rad(1),B=r.rad2deg(1),G={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1823091254.6075456,a3:142.91722289812412,a4:4557728136.518864,a5:42840.589930055656,a6:.9933056200098622},k=u.vec3f64.create(),Y=u.vec3f64.create(),X=u.vec3f64.create(),H=u.vec3f64.create(),Z=u.vec3f64.create()}.apply(null,n))||(e.exports=a)},436:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(1741)],void 0===(a=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.quat=r}.apply(null,n))||(e.exports=a)},437:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(207)],void 0===(a=function(e,t,r){function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function a(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function o(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function i(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+a*a+o*o)}function u(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+a*a+o*o}function c(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.sqrt(t*t+r*r+n*n+a*a)}function s(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.multiply=a,t.divide=o,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=i,t.squaredDistance=u,t.length=c,t.squaredLength=s,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],a=t[2],o=t[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=r*i,e[1]=n*i,e[2]=a*i,e[3]=o*i),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.lerp=function(e,t,r,n){var a=t[0],o=t[1],i=t[2],u=t[3];return e[0]=a+n*(r[0]-a),e[1]=o+n*(r[1]-o),e[2]=i+n*(r[2]-i),e[3]=u+n*(r[3]-u),e},t.random=function(e,t){var n,a,o,i,u,c;t=t||1;do{u=(n=2*r.RANDOM()-1)*n+(a=2*r.RANDOM()-1)*a}while(u>=1);do{c=(o=2*r.RANDOM()-1)*o+(i=2*r.RANDOM()-1)*i}while(c>=1);var s=Math.sqrt((1-u)/c);return e[0]=t*n,e[1]=t*a,e[2]=t*o*s,e[3]=t*i*s,e},t.transformMat4=function(e,t,r){var n=t[0],a=t[1],o=t[2],i=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*o+r[12]*i,e[1]=r[1]*n+r[5]*a+r[9]*o+r[13]*i,e[2]=r[2]*n+r[6]*a+r[10]*o+r[14]*i,e[3]=r[3]*n+r[7]*a+r[11]*o+r[15]*i,e},t.transformQuat=function(e,t,r){var n=t[0],a=t[1],o=t[2],i=r[0],u=r[1],c=r[2],s=r[3],l=s*n+u*o-c*a,f=s*a+c*n-i*o,d=s*o+i*a-u*n,h=-i*n-u*a-c*o;return e[0]=l*s+h*-i+f*-c-d*-u,e[1]=f*s+h*-u+d*-i-l*-c,e[2]=d*s+h*-c+l*-u-f*-i,e[3]=t[3],e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],u=t[0],c=t[1],s=t[2],l=t[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},t.sub=n,t.mul=a,t.div=o,t.dist=i,t.sqrDist=u,t.len=c,t.sqrLen=s}.apply(null,n))||(e.exports=a)},438:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(1742)],void 0===(a=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.quatf32=r}.apply(null,n))||(e.exports=a)},562:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(1743)],void 0===(a=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec3f32=r}.apply(null,n))||(e.exports=a)},569:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(35),r(36),r(38),r(37),r(40),r(788)],void 0===(a=function(e,t,r,n,a,o,i,u){function c(e,t,r){for(var a="",o=0;o<r;){var i=e[t+o];if(i<128)a+=String.fromCharCode(i),o++;else if(i>=192&&i<224){if(o+1>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var u=(31&i)<<6|63&e[t+o+1];a+=String.fromCharCode(u),o+=2}else if(i>=224&&i<240){if(o+2>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");u=(15&i)<<12|(63&e[t+o+1])<<6|63&e[t+o+2];a+=String.fromCharCode(u),o+=3}else{if(!(i>=240&&i<248))throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(o+3>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");if((u=(7&i)<<18|(63&e[t+o+1])<<12|(63&e[t+o+2])<<6|63&e[t+o+3])>=65536){var c=55296+(u-65536>>10),s=56320+(1023&u);a+=String.fromCharCode(c,s)}else a+=String.fromCharCode(u);o+=4}}return a}function s(e,r){for(var n={byteOffset:0,byteCount:0,fields:Object.create(null)},a=0,o=0;o<r.length;o++){var i=r[o],u=i.valueType||i.type,c=t.valueType2ArrayBufferReader[u];n.fields[i.property]=c(e,a),a+=t.valueType2TypedArrayClassMap[u].BYTES_PER_ELEMENT}return n.byteCount=a,n}function l(e,t,r){var a,o,i=[],u=0;for(o=0;o<e;o+=1){if((a=t[o])>0){if(i.push(c(r,u,a-1)),0!==r[u+a-1])throw new n("string-array-error","Invalid string array: missing null termination.")}else i.push(null);u+=a}return i}function f(e,r){return new(0,t.valueType2TypedArrayClassMap[r.valueType])(e,r.byteOffset,r.count*r.valuesPerElement)}function d(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function h(e,t,r){for(var o=null!=t.header?s(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},i={header:o,byteOffset:o.byteCount,byteCount:0,entries:Object.create(null)},u=o.byteCount,c=0;c<t.ordering.length;c++){var l=t.ordering[c],f=a.clone(t[l]);if(f.count=o.fields.count,"String"===f.valueType){if(f.byteOffset=u,f.byteCount=o.fields[l+"ByteCount"],"UTF-8"!==f.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",{encoding:f.encoding})}else{if(!v(f.valueType))throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:f.valueType});var d=M(f.valueType);u+=u%d!=0?d-u%d:0,f.byteOffset=u,f.byteCount=d*f.valuesPerElement*f.count}u+=f.byteCount,i.entries[l]=f}return i.byteCount=u-i.byteOffset,i}function p(e,t,r){if(t!==e&&y.error("Invalid "+r+" buffer size\n expected: "+e+", actual: "+t+")"),t<e)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function v(e){return t.valueType2TypedArrayClassMap.hasOwnProperty(e)}function M(e){return v(e)?t.valueType2TypedArrayClassMap[e].BYTES_PER_ELEMENT:0}Object.defineProperty(t,"__esModule",{value:!0});var y=o.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");t.readHeader=s,t.readStringArray=l,t.createTypedView=f,t.createRawView=d,t.createAttributeDataIndex=h,t.createGeometryIndexFromDefinition=function(e,t,r){var n={header:{byteOffset:0,byteCount:e.offset,fields:{}},byteOffset:e.offset,byteCount:0,vertexAttributes:{},featureAttributes:{}},a=e.offset,o=function(e,t,r,n){var o="UInt64"===t.type?8:M(t.type),i={byteOffset:a,byteCount:o*t.component*r,count:r,valueType:t.type,valuesPerElement:t.component};a+=i.byteCount,n[e]=i};for(var u in m)e[u]&&o(m[u],e[u],t,n.vertexAttributes);if(i.isSome(r))for(var c in b)e[c]&&o(b[c],e[c],r,n.featureAttributes);return n};var m={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},b={featureId:"id",faceRange:"faceRange"};t.createGeometryIndexFromSchema=function(e,t){for(var n=s(e,t&&t.header),a=n.byteCount,o={header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count,c=0,l=t.ordering;c<l.length;c++){var f=l[c];if(t.vertexAttributes[f]){var d=r({},t.vertexAttributes[f],{byteOffset:a,count:u}),h=w[f]?w[f]:"_"+f;o.vertexAttributes[h]=d,a+=M(d.valueType)*d.valuesPerElement*u}}var v=i.faceCount;if(t.faces&&v){o.faces={};for(var y=0,m=t.ordering;y<m.length;y++){var b=m[y];t.faces[b]&&(d=r({},t.faces[b],{byteOffset:a,count:v}),o.faces[b]=d,a+=M(d.valueType)*d.valuesPerElement*v)}}var g=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&g){o.featureAttributes={};for(var x=0,R=t.featureAttributeOrder;x<R.length;x++){var I=R[x];t.featureAttributes[I]&&(d=r({},t.featureAttributes[I],{byteOffset:a,count:g}),o.featureAttributes[I]=d,a+=("UInt64"===d.valueType?8:M(d.valueType))*d.valuesPerElement*g)}}return p(a,e.byteLength,"geometry"),o.byteCount=a-o.byteOffset,o};var g={position:"position",normal:"normal",uv0:"uv0",color:"color","uv-region":"uvRegion"};t.createGeometryIndexFromAttributes=function(e){for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];g[a]&&(t[g[a]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:t}};var w={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};t.readBinaryAttribute=function(e,t,r){if("lepcc-rgb"===e.encoding)return u.decodeRGB(t);if("lepcc-intensity"===e.encoding)return u.decodeIntensity(t);if(null!=e.encoding&&""!==e.encoding)throw new n("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(y.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(y.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var a=h(t,e,r);p(a.byteOffset+a.byteCount,t.byteLength,"attribute");var o=a.entries.attributeValues||a.entries.objectIds;if(o){if("String"===o.valueType){var i=a.entries.attributeByteCounts,c=f(t,i),s=d(t,o);return l(i.count,c,s)}return f(t,o)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},t.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},t.valueType2ArrayBufferReader={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}},t.isValueType=v,t.getBytesPerValue=M}.apply(null,n))||(e.exports=a)},78:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(29),r(28),r(41),r(33),r(30),r(48),r(169),r(170)],void 0===(a=function(e,t,r,n,a,o,i,u,c,s){var l=new a.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(e){function t(t){var r=e.call(this,t)||this;return r.alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r}var a;return r(t,e),a=t,t.prototype.readDescription=function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?r.value:null},t.prototype.readValueType=function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?l.fromJSON(r.fieldValueType):null},t.prototype.clone=function(){return new a({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})},n([i.property({type:String,json:{write:!0}})],t.prototype,"alias",void 0),n([i.property({type:[String,Number],json:{write:{allowNull:!0}}})],t.prototype,"defaultValue",void 0),n([i.property()],t.prototype,"description",void 0),n([i.reader("description")],t.prototype,"readDescription",null),n([i.property({types:c.types,json:{read:{reader:c.fromJSON},write:!0}})],t.prototype,"domain",void 0),n([i.property({type:Boolean,json:{write:!0}})],t.prototype,"editable",void 0),n([i.property({type:u.Integer,json:{write:!0}})],t.prototype,"length",void 0),n([i.property({type:String,json:{write:!0}})],t.prototype,"name",void 0),n([i.property({type:Boolean,json:{write:!0}})],t.prototype,"nullable",void 0),n([i.enumeration.serializable()(s.kebabDict)],t.prototype,"type",void 0),n([i.property()],t.prototype,"valueType",void 0),n([i.reader("valueType",["description"])],t.prototype,"readValueType",null),a=n([i.subclass("esri.layers.support.Field")],t)}(i.declared(o.JSONSupport))}.apply(null,n))||(e.exports=a)},787:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return[0,0,0,1]},t.clone=function(e){return[e[0],e[1],e[2],e[3]]},t.fromValues=function(e,t,r,n){return[e,t,r,n]},t.createView=function(e,t){return new Float64Array(e,t,4)}}.apply(null,n))||(e.exports=a)},788:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(36)],void 0===(a=function(e,t,r){function n(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+l.identifierOffset,l.identifierLength)),version:t.getUint16(r+l.versionOffset,s),checksum:t.getUint32(r+l.checksumOffset,s)}}function a(e,t){return{sizeLo:e.getUint32(t+f.sizeLo,s),sizeHi:e.getUint32(t+f.sizeHi,s),minX:e.getFloat64(t+f.minX,s),minY:e.getFloat64(t+f.minY,s),minZ:e.getFloat64(t+f.minZ,s),maxX:e.getFloat64(t+f.maxX,s),maxY:e.getFloat64(t+f.maxY,s),maxZ:e.getFloat64(t+f.maxZ,s),errorX:e.getFloat64(t+f.errorX,s),errorY:e.getFloat64(t+f.errorY,s),errorZ:e.getFloat64(t+f.errorZ,s),count:e.getUint32(t+f.count,s),reserved:e.getUint32(t+f.reserved,s)}}function o(e,t,r){var n=[];t=i(e,t,n);for(var a=[],o=0;o<n.length;o++){a.length=0,t=i(e,t,a);for(var u=0;u<a.length;u++)r.push(a[u]+n[o])}return t}function i(e,t,n){var a=new DataView(e,t),o=a.getUint8(0),i=31&o,u=!!(32&o),c=(192&o)>>6,l=0;if(0===c)l=a.getUint32(1,s),t+=5;else if(1===c)l=a.getUint16(1,s),t+=3;else{if(2!==c)throw new r("lepcc-decode-error","Bad count type");l=a.getUint8(1),t+=2}if(u)throw new r("lepcc-decode-error","LUT not implemented");for(var f=Math.ceil(l*i/8),d=new Uint8Array(e,t,f),h=0,p=0,v=0,M=-1>>>32-i,y=0;y<l;y++){for(;p<i;)h|=d[v]<<p,p+=8,v+=1;n[y]=h&M,h>>>=i,(p-=i)+i>32&&(h|=d[v-1]>>8-p)}return t+v}function u(e,t){return{sizeLo:e.getUint32(t+d.sizeLo,s),sizeHi:e.getUint32(t+d.sizeHi,s),count:e.getUint32(t+d.count,s),colorMapCount:e.getUint16(t+d.colorMapCount,s),lookupMethod:e.getUint8(t+d.lookupMethod),compressionMethod:e.getUint8(t+d.compressionMethod)}}function c(e,t){return{sizeLo:e.getUint32(t+h.sizeLo,s),sizeHi:e.getUint32(t+h.sizeHi,s),count:e.getUint32(t+h.count,s),scaleFactor:e.getUint16(t+h.scaleFactor,s),bitsPerPoint:e.getUint8(t+h.bitsPerPoint),reserved:e.getUint8(t+h.reserved)}}Object.defineProperty(t,"__esModule",{value:!0});var s=!0,l={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16},f={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};t.decodeXYZ=function(e){var t=new DataView(e,0),i=0,u=n(e,t,i),c=u.identifier,s=u.version;if(i+=l.byteCount,"LEPCC     "!==c)throw new r("lepcc-decode-error","Bad identifier");if(s>1)throw new r("lepcc-decode-error","Unknown version");var d=a(t,i);if(i+=f.byteCount,d.sizeHi*Math.pow(2,32)+d.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var h=new Float64Array(3*d.count),p=[],v=[],M=[],y=[];if(i=o(e,i,p),i=o(e,i,v),i=o(e,i,M),(i=o(e,i,y))!==e.byteLength)throw new r("lepcc-decode-error","Bad length");for(var m=0,b=0,g=0;g<p.length;g++){b+=p[g];for(var w=0,x=0;x<v[g];x++){w+=M[m];var R=y[m];h[3*m]=Math.min(d.maxX,d.minX+2*d.errorX*w),h[3*m+1]=Math.min(d.maxY,d.minY+2*d.errorY*b),h[3*m+2]=Math.min(d.maxZ,d.minZ+2*d.errorZ*R),m++}}return{errorX:d.errorX,errorY:d.errorY,errorZ:d.errorZ,result:h}};var d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};t.decodeRGB=function(e){var t=new DataView(e,0),a=0,o=n(e,t,a),i=o.identifier,c=o.version;if(a+=l.byteCount,"ClusterRGB"!==i)throw new r("lepcc-decode-error","Bad identifier");if(c>1)throw new r("lepcc-decode-error","Unknown version");var s=u(t,a);if(a+=d.byteCount,s.sizeHi*Math.pow(2,32)+s.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===s.lookupMethod||1===s.lookupMethod)&&0===s.compressionMethod){if(3*s.colorMapCount+s.count+a!==e.byteLength||s.colorMapCount>256)throw new r("lepcc-decode-error","Bad count");for(var f=new Uint8Array(e,a,3*s.colorMapCount),h=new Uint8Array(e,a+3*s.colorMapCount,s.count),p=new Uint8Array(3*s.count),v=0;v<s.count;v++){var M=h[v];p[3*v]=f[3*M],p[3*v+1]=f[3*M+1],p[3*v+2]=f[3*M+2]}return p}if(0===s.lookupMethod&&0===s.compressionMethod){if(3*s.count+a!==e.byteLength||0!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");return new Uint8Array(e,a).slice()}if(s.lookupMethod<=2&&1===s.compressionMethod){if(a+3!==e.byteLength||1!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");var y=t.getUint8(a),m=t.getUint8(a+1),b=t.getUint8(a+2);for(p=new Uint8Array(3*s.count),v=0;v<s.count;v++)p[3*v]=y,p[3*v+1]=m,p[3*v+2]=b;return p}throw new r("lepcc-decode-error","Bad method "+s.lookupMethod+","+s.compressionMethod)};var h={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};t.decodeIntensity=function(e){var t=new DataView(e,0),a=0,o=n(e,t,a),u=o.identifier,s=o.version;if(a+=l.byteCount,"Intensity "!==u)throw new r("lepcc-decode-error","Bad identifier");if(s>1)throw new r("lepcc-decode-error","Unknown version");var f=c(t,a);if(a+=h.byteCount,f.sizeHi*Math.pow(2,32)+f.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var d=new Uint16Array(f.count);if(8===f.bitsPerPoint){if(f.count+a!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(var p=new Uint8Array(e,a,f.count),v=0;v<f.count;v++)d[v]=p[v]*f.scaleFactor}else if(16===f.bitsPerPoint){if(2*f.count+a!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(p=new Uint16Array(e,a,f.count),v=0;v<f.count;v++)d[v]=p[v]*f.scaleFactor}else{if(i(e,a,p=[])!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(v=0;v<f.count;v++)d[v]=p[v]*f.scaleFactor}return d}}.apply(null,n))||(e.exports=a)},789:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r(91),r(410),r(125),r(145),r(102),r(373)],void 0===(a=function(e,t,r,n,a,o,i,u){function c(e,n,a,o){var u,c;e instanceof i&&n instanceof i&&(a=n.longitude,o=n.latitude,c=e.latitude,u=e.longitude);var s=r.deg2rad(c),l=r.deg2rad(o),f=s-l,d=r.deg2rad(u)-r.deg2rad(a),h=Math.sin(f/2),p=Math.sin(d/2),v=2*r.asinClamped(Math.sqrt(h*h+Math.cos(s)*Math.cos(l)*p*p))*t.earthRadius;return Math.round(1e4*v)/1e4}function s(e,t){var r=e/15;return t||(r=Math.round(r)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=n.wgs84Radius,t.halfEarthRadius=t.earthRadius/2,t.halfEarthCircumference=Math.PI*t.earthRadius,t.earthCircumference=2*t.halfEarthCircumference,t.metersPerDegree=t.halfEarthCircumference/180,t.getGreatCircleDistance=c,t.getGreatCircleSpanAt=function(e,t,r){var n=t.spatialReference,a=new i(t.x,e.y,n),o=new i(r.x,e.y,n),u=new i(e.x,t.y,n),s=new i(e.x,r.y,n);return{lon:c(a,o),lat:c(u,s)}},t.getLonDeltaForDistance=function(e,n){var a=n/t.earthRadius,o=r.deg2rad(e),i=Math.sin(a/2),u=Math.cos(o),c=2*r.asinClamped(Math.sqrt(i*i/(u*u)));return r.rad2deg(c)},t.getLatDeltaForDistance=function(e){return r.rad2deg(e/t.earthRadius)},t.getMaxCameraAltitude=function(e){var n=e/2,a=r.deg2rad(n);return(1-Math.sin(a))*t.earthRadius/Math.sin(a)},t.getViewExtentDistance=function(e,n){var a=r.deg2rad(n/2),o=(e+t.earthRadius)*Math.cos(a)-Math.sqrt(Math.pow(Math.cos(a)*(e+t.earthRadius),2)-e*e-2*e*t.earthRadius);return 2*r.acosClamped((Math.pow(e+t.earthRadius,2)+Math.pow(t.earthRadius,2)-Math.pow(o,2))/(2*(e+t.earthRadius)*t.earthRadius))*t.earthRadius},t.computeCartesianDistance=function(e,t){var r=u.wgs84ComparableLonLatToECEF(l,e.longitude,e.latitude,e.z||0),n=u.wgs84ComparableLonLatToECEF(f,t.longitude,t.latitude,t.z||0),a=[n[0]-r[0],n[1]-r[1],n[2]-r[2]];return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},t.longitudeToTimezone=s,t.positionToTimezone=function(e,t){t||(t={hours:0,minutes:0,seconds:0}),t.hours=s(e[0],!0);var r=t.hours%1;t.hours-=r,t.minutes=60*r;var n=t.minutes%1;return t.minutes-=n,t.seconds=Math.round(60*n),t},t.distanceToIdealHorizon=function(e,r){r=r||t.earthRadius;var n=a.vec3.dot(e,e),o=r*r;return Math.sqrt(Math.abs(n-o))};var l=o.vec3f64.create(),f=o.vec3f64.create()}.apply(null,n))||(e.exports=a)}}]);